var __builtin_policy_sdk__;(()=>{var e,t={3031:(e,t,n)=>{"use strict";t.X_=void 0;var r=n(7613);Object.defineProperty(t,"X_",{enumerable:!0,get:function(){return r.waitFor}})},7613:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.waitFor=t.PollUntil=void 0;const r="Your executor is not a function. functions and promises are valid.",o="Failed to wait";class i{constructor({interval:e=100,timeout:t=1e3,stopOnFailure:n=!1,verbose:r=!1,backoffFactor:o=1,backoffMaxInterval:i,message:a=""}={}){this._interval=e,this._timeout=t,this._stopOnFailure=n,this._isWaiting=!1,this._isResolved=!1,this._verbose=r,this._userMessage=a,this.originalStacktraceError=new Error,this._Console=console,this._backoffFactor=o,this._backoffMaxInterval=i||t,this.start=+Date.now()}tryEvery(e){return this._interval=e,this}stopAfter(e){return this._timeout=e,this}execute(e){return this._applyPromiseHandlers(),function(e){if("function"!=typeof e)throw new Error(r)}(e),this._executeFn=function(e){return()=>n(this,void 0,void 0,(function*(){return yield e()}))}(e),this.start=Date.now(),this._isWaiting=!0,this._log("starting to execute"),this._runFunction(),this.promise}getPromise(){return this.promise}isResolved(){return this._isResolved}isWaiting(){return this._isWaiting}stopOnFailure(e){return this._stopOnFailure=e,this}_applyPromiseHandlers(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}_timeFromStart(){return Date.now()-this.start}_shouldStopTrying(){return this._timeFromStart()>this._timeout}_executeAgain(){this._log("executing again");const e=this._interval,t=e*this._backoffFactor;this._interval=t>this._backoffMaxInterval?this._backoffMaxInterval:t,setTimeout(this._runFunction.bind(this),e)}_failedToWait(){let e=`${o} after ${this._timeFromStart()}ms`;if(this._userMessage&&(e=`${e}: ${this._userMessage}`),this._lastError){this._lastError.message=`${e}\n${this._lastError.message}`;const t=this.originalStacktraceError.stack;t&&(this._lastError.stack+=t.substring(t.indexOf("\n")+1))}else this._lastError=this.originalStacktraceError,this._lastError.message=e;return this._log(this._lastError),this._lastError}_runFunction(){var e;if(this._shouldStopTrying())return this._isWaiting=!1,void(null===(e=this.reject)||void 0===e||e.call(this,this._failedToWait()));this._executeFn().then(e=>{var t;if(!1===e)return this._log("then execute again with result: "+e),void this._executeAgain();null===(t=this.resolve)||void 0===t||t.call(this,e),this._isWaiting=!1,this._isResolved=!0,this._log("then done waiting with result: "+e)}).catch(e=>{var t;return this._stopOnFailure?(this._log("stopped on failure with err: "+e),null===(t=this.reject)||void 0===t?void 0:t.call(this,e)):(this._lastError=e,this._log("catch with err: "+e),this._executeAgain())})}_log(e){this._verbose&&this._Console&&this._Console.log&&this._Console.log(e)}}t.PollUntil=i;t.waitFor=(e,t)=>new i(t).execute(e)},9538:function(e,t){var n,r,o;r=[],void 0===(o="function"==typeof(n=function(){var e=function e(t){function n(e,t){return e>>>t|e<<32-t}for(var r,o,i=Math.pow,a=i(2,32),c="",u=[],s=8*t.length,l=e.h=e.h||[],f=e.k=e.k||[],p=f.length,d={},h=2;p<64;h++)if(!d[h]){for(r=0;r<313;r+=h)d[r]=h;l[p]=i(h,.5)*a|0,f[p++]=i(h,1/3)*a|0}for(t+="Â€";t.length%64-56;)t+="\0";for(r=0;r<t.length;r++){if((o=t.charCodeAt(r))>>8)return;u[r>>2]|=o<<(3-r)%4*8}for(u[u.length]=s/a|0,u[u.length]=s,o=0;o<u.length;){var v=u.slice(o,o+=16),y=l;for(l=l.slice(0,8),r=0;r<64;r++){var b=v[r-15],g=v[r-2],w=l[0],m=l[4],_=l[7]+(n(m,6)^n(m,11)^n(m,25))+(m&l[5]^~m&l[6])+f[r]+(v[r]=r<16?v[r]:v[r-16]+(n(b,7)^n(b,18)^b>>>3)+v[r-7]+(n(g,17)^n(g,19)^g>>>10)|0);(l=[_+((n(w,2)^n(w,13)^n(w,22))+(w&l[1]^w&l[2]^l[1]&l[2]))|0].concat(l))[4]=l[4]+_|0}for(r=0;r<8;r++)l[r]=l[r]+y[r]|0}for(r=0;r<8;r++)for(o=3;o+1;o--){var E=l[r]>>8*o&255;c+=(E<16?0:"")+E.toString(16)}return c};return e.code='var sha256=function a(b){function c(a,b){return a>>>b|a<<32-b}for(var d,e,f=Math.pow,g=f(2,32),h="length",i="",j=[],k=8*b[h],l=a.h=a.h||[],m=a.k=a.k||[],n=m[h],o={},p=2;64>n;p++)if(!o[p]){for(d=0;313>d;d+=p)o[d]=p;l[n]=f(p,.5)*g|0,m[n++]=f(p,1/3)*g|0}for(b+="\\x80";b[h]%64-56;)b+="\\x00";for(d=0;d<b[h];d++){if(e=b.charCodeAt(d),e>>8)return;j[d>>2]|=e<<(3-d)%4*8}for(j[j[h]]=k/g|0,j[j[h]]=k,e=0;e<j[h];){var q=j.slice(e,e+=16),r=l;for(l=l.slice(0,8),d=0;64>d;d++){var s=q[d-15],t=q[d-2],u=l[0],v=l[4],w=l[7]+(c(v,6)^c(v,11)^c(v,25))+(v&l[5]^~v&l[6])+m[d]+(q[d]=16>d?q[d]:q[d-16]+(c(s,7)^c(s,18)^s>>>3)+q[d-7]+(c(t,17)^c(t,19)^t>>>10)|0),x=(c(u,2)^c(u,13)^c(u,22))+(u&l[1]^u&l[2]^l[1]&l[2]);l=[w+x|0].concat(l),l[4]=l[4]+w|0}for(d=0;8>d;d++)l[d]=l[d]+r[d]|0}for(d=0;8>d;d++)for(e=3;e+1;e--){var y=l[d]>>8*e&255;i+=(16>y?0:"")+y.toString(16)}return i};',e})?n.apply(t,r):n)||(e.exports=o)},9972:(e,t,n)=>{"use strict";n.d(t,{Bo:()=>c,Ih:()=>u,Ox:()=>i,Rv:()=>o,a0:()=>l,u3:()=>a,y3:()=>s});var r={request:n(3198).Z,baseURL:""};function o(e){r._initialized||(r.request=(null==e?void 0:e.request)||r.request,r.baseURL=(null==e?void 0:e.baseURL)||"",r._initialized=!0)}function i(e,t){var n=r.genBaseURL("/lark/scs/guardian/policy_engine/runtime_config/query"),o=e||{},i={version:o.version,terminalType:o.terminalType},a={"x-lgw-terminal-type":o["x-lgw-terminal-type"]};return r.request({url:n,method:"POST",data:i,headers:a},t)}function a(e,t){var n=r.genBaseURL("/lark/scs/guardian/policy_engine/policy_log/report"),o={policyLog:(e||{}).policyLog};return r.request({url:n,method:"POST",data:o},t)}function c(e,t){var n=r.genBaseURL("/lark/scs/guardian/policy_engine/pointcut/query");return r.request({url:n,method:"POST"},t)}function u(e,t){var n=r.genBaseURL("/lark/scs/guardian/enforce"),o={params:(e||{}).params};return r.request({url:n,method:"POST",data:o},t)}function s(e,t){var n=r.genBaseURL("/lark/scs/guardian/pointcut/control_check"),o={params:(e||{}).params};return r.request({url:n,method:"POST",data:o},t)}function l(e,t){var n=r.genBaseURL("/lark/scs/guardian/policy_engine/policy_type_tenants/query");return r.request({url:n,method:"POST"},t)}r.genBaseURL=function(e){return"function"==typeof r.baseURL?r.baseURL(e):r.baseURL+e}},4821:(e,t,n)=>{"use strict";n.d(t,{R$:()=>i,gY:()=>o});var r={request:n(3198).Z,baseURL:""};function o(e){r._initialized||(r.request=(null==e?void 0:e.request)||r.request,r.baseURL=(null==e?void 0:e.baseURL)||"",r._initialized=!0)}function i(e,t){var n=r.genBaseURL("/lark/security/terminal/intranet/service_info");return r.request({url:n,method:"GET"},t)}r.genBaseURL=function(e){return"function"==typeof r.baseURL?r.baseURL(e):r.baseURL+e}},3788:(e,t,n)=>{"use strict";var r,o,i,a,c;n.d(t,{Jg:()=>r,OW:()=>i,Qm:()=>o,Su:()=>a,py:()=>c}),function(e){e.Network="BLOCKED_BY_IP_RULE",e.MFA="ACCESS_MFA",e.DeviceState="BLOCKED_BY_DEVICE_CREDIBILITY",e.DeviceOwn="BLOCKED_BY_DEVICE_OWNERSHIP",e.FilePolicy="FILE_BLOCK_COMMON",e.Permission="BLOCKED_BY_PERMISSION_PLUGIN",e.Default="DEFAULT",e.SignatureFailure="BLOCKED_BY_SIGNATURE_FAILURE",e.DLP_CONTENT_SENSITIVE="DLP_CONTENT_SENSITIVE",e.DLP_CONTENT_DETECTING="DLP_CONTENT_DETECTING",e.TT_BLOCK="TT_BLOCK",e.FALLBACK_COMMON="FALLBACK_COMMON",e.UNIVERSAL_FALLBACK_COMMON="UNIVERSAL_FALLBACK_COMMON",e.Intranet="BLOCKED_BY_TERMINAL_TOKEN"}(r||(r={})),function(e){e.Permit="PERMIT",e.Deny="DENY",e.Indeterminate="INDETERMINATE",e.NotApplicable="NOT_APPLICABLE"}(o||(o={})),function(e){e.CCMCopy="CCM_CONTENT_COPY",e.CCMPrint="CCM_PRINT",e.CCMExport="CCM_EXPORT",e.CCMShare="CCM_SHARE",e.CCMAttachmentDownload="CCM_ATTACHMENT_DOWNLOAD",e.CCMAttachmentUpload="CCM_ATTACHMENT_UPLOAD",e.CCMContentPreview="CCM_CONTENT_PREVIEW",e.CCMCreateCopy="CCM_CREATE_COPY",e.CCMPhysicalDelete="CCM_DELETE",e.CCMPFileUpload="CCM_FILE_UPLOAD",e.CCMPFilePreView="CCM_FILE_PREVIEW",e.CCMPFileDownload="CCM_FILE_DOWNLOAD",e.CCMPMoveRecycleBin="CCM_MOVE_RECYCLE_BIN",e.CCMOpen="CCM_OPEN",e.CCMAuth="CCM_AUTH",e.CCMOpenExternalAccess="CCM_OPEN_EXTERNAL_ACCESS",e.CCMOpenExternalAccessAsync="CCM_OPEN_EXTERNAL_ACCESS_ASYNC",e.CCMOpenLinkShareChange="CCM_LINK_SHARE_CHANGE",e.CCMOpenLinkShareChangeAsync="CCM_LINK_SHARE_CHANGE_ASYNC",e.CCMAddCollaborator="CCM_ADD_INTERNAL_COLLABORATOR",e.CCMAddCollaboratorAsync="CCM_ADD_INTERNAL_COLLABORATOR_ASYNC",e.CCMAddExternalCollaborator="CCM_ADD_EXTERNAL_COLLABORATOR",e.CCMAddExternalCollaboratorAsync="CCM_ADD_EXTERNAL_COLLABORATOR_ASYNC",e.IMTextSend="IM_MSG_SEND_TEXT_MSG",e.IMFileSend="IM_MSG_SEND_FILE_MSG",e.IMMSGPhysicalDelete="IM_MSG_PHYSICAL_DELETE",e.IMFileDownload="IM_MSG_FILE_DOWNLOAD",e.IMFileSave="IM_MSG_FILE_SAVE",e.IMFileUpload="IM_MSG_FILE_UPLOAD",e.IMFileShare="IM_MSG_FILE_SHARE",e.IMFilePreview="IM_MSG_FILE_PREVIEW",e.IMFileRead="IM_MSG_FILE_READ",e.IMFileCopy="IM_MSG_FILE_COPY",e.IMChatModifyName="IM_MSG_CHAT_MODIFY_NAME",e.IMChatModifyDesc="IM_MSG_CHAT_MODIFY_DESC",e.IMChatModifyProfile="IM_MSG_CHAT_MODIFY_PROFILE",e.IMChatAddTag="IM_MSG_CHAT_ADD_TAG",e.IMChatEditTag="IM_MSG_CHAT_EDIT_TAG",e.IMChatEditUserNickName="IM_MSG_EDIT_USER_NICK_NAME",e.IMMsgAsyncDetection="IM_MSG_ASYNC_DETECTION",e.VCMeetingMinutesPhysicalDelete="VC_MM_PHYSICAL_DELETE",e.MailPhysicalDelete="MAIL_PHYSICAL_DELETE",e.VcHardDelete="VC_MM_DELETE_FROM_RECYCLE_BIN",e.VcDelete="VC_MM_MOVE_RECYCLE_BIN",e.VcUpload="VC_MM_UPLOAD",e.VcCopy="VC_MM_CONTENT_COPY"}(i||(i={})),function(e){e.UNKNOWN="Unknown",e.CCM="CCM",e.IM="IM",e.MAIL="Mail",e.VC="VC",e.TODO="TODO",e.CALENDAR="Calendar",e.PASSPORT="Passport",e.IM_OTHERS="IM_Others",e.MINUTES="MeetingMinutes"}(a||(a={})),function(e){e.Doc="DOC",e.Docx="DOCX",e.Sheet="SHEET",e.Bitable="BITABLE",e.Mindnote="MINDNOTE",e.File="FILE",e.DASHBOARD="DASHBOARD",e.BITABLESHAREFORM="BITABLE_SHARE_FORM",e.CHART="CHART",e.SPACE_CATALOG="SPACE_CATALOG",e.WIKI_SPACE="WIKI_SPACE",e.PIVOTTABLE="PIVOT_TABLE",e.RECORD="RECORD",e.SYNC="SYNC",e.SLIDES="SLIDES",e.ImMsgFile="IM_MSG_FILE",e.MeetingMinutes="MeetingMinutes"}(c||(c={}))},6969:(e,t,n)=>{"use strict";var r;n.d(t,{Ab:()=>l,MA:()=>r,Nt:()=>c,Y3:()=>f,hf:()=>o,hj:()=>s,hx:()=>a,oz:()=>i,u7:()=>u}),function(e){e.ccmExport="PointKey_CCM_EXPORT",e.ccmFileDownload="PointKey_CCM_FILE_DOWNLOAD",e.ccmFileUpload="PointKey_CCM_FILE_UPLOAD",e.ccmAttachmentDownload="PointKey_CCM_ATTACHMENT_DOWNLOAD",e.ccmPrint="PointKey_CCM_PRINT",e.ccmCopy="PointKey_CCM_CONTENT_COPY",e.ccmDuplicate="PointKey_CCM_CREATE_COPY",e.ccmPreview="PointKey_CCM_CONTENT_PREVIEW",e.ccmFilePreview="PointKey_CCM_FILE_PREVIEW",e.ccmDelete="PointKey_CCM_MOVE_RECYCLE_BIN",e.ccmOpenExternalAccess="PointKey_CCM_OPEN_EXTERNAL_ACCESS",e.imDownload="PointKey_IM_MSG_FILE_DOWNLOAD",e.imUpload="PointKey_IM_MSG_FILE_UPLOAD",e.imCopy="PointKey_IM_MSG_FILE_COPY",e.imPreview="PointKey_IM_MSG_FILE_PREVIEW",e.imShare="PointKey_IM_MSG_FILE_READ",e.vcCopy="PointKey_VC_MM_CONTENT_COPY"}(r||(r={}));var o=new Set([r.imShare,r.imDownload]),i=[r.imDownload],a=[r.imDownload],c=[r.imDownload],u=3,s="security_login_restriction_ping_time_storage",l=5e3,f=9e5},3583:(e,t,n)=>{"use strict";var r,o;n.d(t,{pW:()=>r}),function(e){e.UNKNOWN="",e.CCM="CCM",e.IM="IM",e.VC="VC",e.CALENDAR="CALENDAR"}(r||(r={})),function(e){e[e.P2P=1]="P2P",e[e.GROUP=2]="GROUP",e[e.TOPIC_GROUP=3]="TOPIC_GROUP"}(o||(o={}))},3545:(e,t,n)=>{"use strict";n.d(t,{EE:()=>i});var r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},o=function(e){return"object"!=typeof e?e:Array.isArray(e)?e.map((function(e){return o(e)})):Object.keys(e).sort().reduce((function(t,n){return t[n]="object"==typeof e[n]?o(e[n]):e[n],t}),{})},i=function(e){e.taskId;return function(e){var t=o(e);return JSON.stringify(t)}(r(e,["taskId"]))}},6379:(e,t,n)=>{"use strict";n.d(t,{g:()=>i});var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},o=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},i=new(function(){function e(e){this.cacheKey=e}return e.prototype.getCache=function(e){var t=null===localStorage||void 0===localStorage?void 0:localStorage.getItem("".concat(this.cacheKey,"-").concat(e));if(t)try{return JSON.parse(t)}catch(e){return null}return null},e.prototype.setCache=function(e,t){return null===localStorage||void 0===localStorage||localStorage.setItem("".concat(this.cacheKey,"-").concat(e),JSON.stringify(t)),t},e.prototype.getCacheAsync=function(e){var t=e.query,n=e.partition;return r(this,void 0,Promise,(function(){var e,r;return o(this,(function(o){switch(o.label){case 0:return(e=this.getCache(n))?(this.updateCacheAsync({query:t,partition:n}),[2,e]):this.queryPromise?[2,this.queryPromise]:(this.queryPromise=t(),[4,this.queryPromise]);case 1:return r=o.sent(),this.queryPromise=null,this.setCache(n,r),[2,r]}}))}))},e.prototype.updateCacheAsync=function(e){var t=e.query,n=e.partition;return r(this,void 0,Promise,(function(){var e;return o(this,(function(r){switch(r.label){case 0:return this.updatePromise?[2,this.updatePromise]:(this.updatePromise=t(),[4,this.updatePromise]);case 1:return e=r.sent(),this.setCache(n,e),[2,e]}}))}))},e}())("policy-sdk-config")},4720:(e,t,n)=>{"use strict";n.d(t,{_:()=>u,f:()=>f});var r=n(8584),o=function(e){return Boolean(e)&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then},i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},u={PolicyWorker:"PolicyWorker",PAP:"PAP",Network:"Network"},s=function(e,t,n,r){return{target:e,args:t,startTime:n,funcName:r,type:"info",err:null,res:null}},l=function(e,t,n,r){return{target:e,args:t,startTime:n,funcName:r,res:null,type:"error"}};function f(e){var t=e.onLog,n=e.onCatch,u=e.onReturn,f=e.beforeEnterAsync;return function(e,p,d){var h=d.value;d.value=function(){for(var e=this,d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];var y=(new Date).getTime();t&&t(i(i({},s(this,d,y,p)),{message:"s ".concat(p)}));var b=function(n){if(t&&t(i(i({},s(e,[],y,p)),{res:n,message:"f ".concat(p)})),u)return u.apply(void 0,c([e,n],a(d),!1))},g=function(o){var u={error:null==o?void 0:o.message,stack:null==o?void 0:o.stack,cause:null==o?void 0:o.cause,type:"Error",funcName:p,args:d,isOnline:navigator.onLine};if((0,r.DO)(u),t&&t(i(i({},l(e,d,y,p)),{err:o.message,message:"exec ".concat(p," error")})),n)return n.apply(void 0,c([e,o],a(d),!1));throw Error(o)},w=function(){try{var t=h.apply(e,c([],a(d),!1));return o(t)?t.then((function(e){return b(e)||t})).catch((function(e){return g(e)})):b(t)||t}catch(e){return g(e)}};return f?f.apply(void 0,c([this],a(d),!1)).then((function(e){return e.exit?e.result:w()})).catch((function(e){return g(e)})):w()}}}},213:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});var r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},i=Symbol("instances");function a(e){return function(t){var n=t;n[i]={};var a=Symbol("instance"),c=function(){var t,c=[].slice.call(arguments),u=e?JSON.stringify(e.apply(void 0,o([],r(c),!1))):a;return n.prototype!==this.constructor.prototype?((t=n.constructor).call.apply(t,o([this],r(c),!1)),this):(n[i][u]||(n[i][u]=new(n.bind.apply(n,o([void 0],r(c),!1)))),n[i][u])};return Object.defineProperties(c,Object.getOwnPropertyDescriptors(n)),c}}},2463:(e,t,n)=>{"use strict";n.d(t,{u:()=>l});var r,o,i,a=n(213),c=n(2074),u=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s={all:i=i||new Map,on:function(e,t){var n=i.get(e);n?n.push(t):i.set(e,[t])},off:function(e,t){var n=i.get(e);n&&(t?n.splice(n.indexOf(t)>>>0,1):i.set(e,[]))},emit:function(e,t){var n=i.get(e);n&&n.slice().map((function(e){e(t)})),(n=i.get("*"))&&n.slice().map((function(n){n(e,t)}))}},l=new(function(){function e(){this.cache={}}return e.prototype.emit=function(e,t){if(!s.all.get(e))return(this.cache[e]||(this.cache[e]=[])).push(t),void(this.cache[e]=this.cache[e].slice(-50));s.emit(e,t)},e.prototype.on=function(e,t){var n=this;return this.cache[e]&&this.cache[e].map((function(e){return t.call(n,e)})),s.on(e,t),{dispose:function(){return n.off(e,t)}}},e.prototype.off=function(e,t){s.off(e,t)},e.prototype.has=function(e){return Boolean(s.all.get(e))},e=u([(0,a.p)()],e)}());"undefined"!=typeof window&&(null===(r=window.addEventListener)||void 0===r||r.call(window,"online",(function(){return l.emit(c.GE.NETWORK_ONLINE)}))),"undefined"!=typeof document&&(null===(o=document.addEventListener)||void 0===o||o.call(document,"visibilitychange",(function(){"visible"===document.visibilityState&&l.emit(c.GE.BACK_TO_FRONT)})))},2010:(e,t,n)=>{"use strict";n.d(t,{W:()=>c,n:()=>u});var r="Symbol"in n.g&&"iterator"in Symbol;function o(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'.concat(e,'"'));return e}function i(e){return"string"!=typeof e&&(e=String(e)),e}function a(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}var c=function(){function e(t){this.map={},this.map={},t instanceof e||"undefined"!=typeof Headers&&t instanceof Headers?t.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(t)?t.forEach((function(e){this.append(e[0],e[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}return e.prototype.append=function(e,t){e=o(e),t=i(t);var n=this.map[e];this.map[e]=n?"".concat(n,", ").concat(t):t},e.prototype.delete=function(e){delete this.map[o(e)]},e.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},e.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},e.prototype.set=function(e,t){this.map[o(e)]=i(t)},e.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},e.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),a(e)},e.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),a(e)},e.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),a(e)},e}();function u(e){var t=new c;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n,r=e.split(":"),o=null===(n=r.shift())||void 0===n?void 0:n.trim();if(o){var i=r.join(":").trim();try{t.append(o,i)}catch(e){}}})),t}},4622:(e,t,n)=>{"use strict";n.d(t,{n:()=>p});var r,o=n(8031),i=n(1964),a=n(9741),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},u=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},s=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},l=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},f=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(e){e.Success="Success",e.Error="Error",e.Timeout="Timeout",e.Abort="Abort"}(r||(r={}));var p=function(){function e(e){this.timer={},this.abortController={},this.requestTimeout=null==e?void 0:e.requestTimeout,this.responseTimeout=null==e?void 0:e.responseTimeout,(null==e?void 0:e.dependencies)&&(this.dependencies=e.dependencies)}return Object.defineProperty(e.prototype,"key",{get:function(){return this.constructor.key},enumerable:!1,configurable:!0}),e.prototype.doInterceptor=function(e,t,n){var o,i=this,c=(0,a.Z)(),u=!1,f=!1,p=n[0],d=function(e){u=!0,o(e)},h=function(){u||(p.lock(),null==d||d({success:f,reason:r.Abort}))};this.abortController[c]=h;var v=new Promise((function(e){o=e}));try{e.apply(void 0,l([],s(n),!1)).then((function(e){u||d({success:f=!0,result:e,reason:r.Success})})).catch((function(e){d({success:f,reason:r.Error,message:e.message})})),void 0!==t&&t>=0&&(this.timer[c]=setTimeout((function(){i.timer[c]=void 0,u||(p.lock(),d({success:f,reason:r.Timeout}))}),t))}catch(e){d({success:f,reason:r.Error,message:e.message})}return{abort:h,promise:v}},e.prototype.doRequestInterceptor=function(e){var t=new o.S(e);return this.doInterceptor(this.request,this.requestTimeout,[t])},e.prototype.doResponseInterceptor=function(e,t){var n=new i.J(e),r=new o.S(t);return r.lock(),this.doInterceptor(this.response,this.responseTimeout,[n,r])},e.prototype.request=function(e){return c(this,void 0,Promise,(function(){return u(this,(function(e){return[2,!0]}))}))},e.prototype.response=function(e,t){return c(this,void 0,Promise,(function(){return u(this,(function(e){return[2,!0]}))}))},e.prototype.dispose=function(){var e,t,n,r;try{for(var o=f(Object.keys(this.abortController)),i=o.next();!i.done;i=o.next()){var a=i.value;(0,this.abortController[a])()}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}this.abortController={};try{for(var c=f(Object.keys(this.timer)),u=c.next();!u.done;u=c.next()){a=u.value;var s=this.timer[a];void 0!==s&&clearTimeout(s)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}this.timer={}},e.key="Interceptor",e}()},8031:(e,t,n)=>{"use strict";n.d(t,{S:()=>a,V:()=>i});var r=n(2010),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(){function e(e){this.headers=new r.W(null==e?void 0:e.headers),this.originURL=null==e?void 0:e.url,this.originBody=null==e?void 0:e.body,this.originMethod=null==e?void 0:e.method}return e.fromFetch=function(t,n){var r=new Request(t,n),o=new Headers;(t instanceof Request&&t.headers&&t.headers.forEach((function(e,t){o.append(t,e)})),null==n?void 0:n.headers)&&new Headers(n.headers).forEach((function(e,t){o.append(t,e)}));return new e({headers:o,url:r.url,body:r.body,method:r.method})},e.fromXHR=function(t,n){return new e({headers:null==n?void 0:n.headers,method:null==n?void 0:n.method,url:null==n?void 0:n.url,body:null==n?void 0:n.body})},Object.defineProperty(e.prototype,"url",{get:function(){return this.originURL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"method",{get:function(){return this.originMethod},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"absoluteURL",{get:function(){if(this.originURL)return new URL(this.originURL,location.href).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"body",{get:function(){return this.originBody},enumerable:!1,configurable:!0}),e.prototype.applyOnFetch=function(e,t,n){var r=new Request(e,t),i=new Headers(r.headers);return this.headers.forEach((function(e,t){n?i.append(t,e):i.set(t,e)})),o(o({},t),{headers:i})},e.prototype.applyOnXHR=function(e){this.headers.forEach((function(t,n){e.setRequestHeader(n,t)}))},e.prototype.clone=function(){return new e({headers:this.headers})},e}(),a=function(){function e(e){this.locked=!1,this.content=e}return Object.defineProperty(e.prototype,"url",{get:function(){return this.content.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"method",{get:function(){return this.content.method},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"absoluteURL",{get:function(){return this.content.absoluteURL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"body",{get:function(){return this.content.body},enumerable:!1,configurable:!0}),e.prototype.setHeader=function(e,t){this.locked||this.content.headers.set(e,t)},e.prototype.appendHeader=function(e,t){this.locked||this.content.headers.append(e,t)},e.prototype.getHeader=function(e){return this.content.headers.get(e)},e.prototype.headerEntries=function(){return this.content.headers.entries()},e.prototype.headerKeys=function(){return this.content.headers.keys()},e.prototype.headerValues=function(){return this.content.headers.values()},e.prototype.lock=function(){this.locked=!0},e.prototype.unlock=function(){this.locked=!1},e}()},1964:(e,t,n)=>{"use strict";n.d(t,{J:()=>i,u:()=>o});var r=n(2010),o=function(){function e(e){this.headers=new r.W(null==e?void 0:e.headers),this.status=null==e?void 0:e.status}return e.fromFetch=function(t){return new e({headers:new Headers(t.headers),status:t.status})},e.fromXHR=function(t){var n=t.getAllResponseHeaders(),o=t.status;return new e({headers:(0,r.n)(n),status:o})},e.prototype.clone=function(){return new e({headers:this.headers})},e}(),i=function(){function e(e){this.locked=!1,this.content=e}return e.prototype.getHeader=function(e){return this.content.headers.get(e)},e.prototype.getStatus=function(){return this.content.status},e.prototype.headerEntries=function(){return this.content.headers.entries()},e.prototype.headerKeys=function(){return this.content.headers.keys()},e.prototype.headerValues=function(){return this.content.headers.values()},e.prototype.lock=function(){this.locked=!0},e.prototype.unlock=function(){this.locked=!1},e}()},9208:(e,t,n)=>{"use strict";n.d(t,{FD:()=>ye,UE:()=>de,Ct:()=>ve,YC:()=>we,BD:()=>be,pF:()=>he,m5:()=>ge});var r,o=n(9538),i=n.n(o),a=n(3742),c=n(2808),u=n(4118),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(){function e(){this.listeners=[],this.notifyingCount=0,this.needRemoveListenerCount=0,this.disposed=!1}return e.prototype.dispose=function(){this.disposed=!0,this.listeners=[]},e.prototype.addListener=function(e){var t=this;return this.listeners.push(e),function(){t.removeListener(e)}},e.prototype.removeListener=function(e){if(!this.disposed)for(var t=this.listeners.length,n=0;n<t&&!this.disposed;n++){if(this.listeners[n]===e){0===this.notifyingCount?this.listeners.splice(n,1):(this.listeners[n]=null,this.needRemoveListenerCount++);break}}},e.prototype.cleanNeedRemoveListener=function(){if(!this.disposed)for(var e=0;e<this.listeners.length;){this.listeners[e]?e++:this.listeners.splice(e,1)}},e.prototype.notifyListeners=function(e){this.internalNotifyListener(e)},e.prototype.activeListener=function(e,t){null==e||e(t)},e.prototype.internalNotifyListener=function(e){if(!this.disposed){this.notifyingCount++;for(var t=this.listeners.length,n=0;n<t&&!this.disposed;n++){var r=this.listeners[n];this.activeListener(r,e)}this.notifyingCount--,0===this.notifyingCount&&this.needRemoveListenerCount>0&&(this.cleanNeedRemoveListener(),this.needRemoveListenerCount=0)}},e}(),f=(function(e){function t(t){var n=e.call(this)||this;return n.value=t,n}s(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.internalValue},set:function(e){this.internalSetValue(e),this.notifyListeners(e)},enumerable:!1,configurable:!0}),t.prototype.updateValue=function(e,t){t?this.internalSetValue(e):this.value=e},t.prototype.internalSetValue=function(e){this.internalValue!==e&&(this.internalValue=e)},t.prototype.addListener=function(t){return e.prototype.addListener.call(this,t)},t.prototype.removeListener=function(t){e.prototype.removeListener.call(this,t)}}(l),n(9782)),p=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function d(e,t){void 0===t&&(t=!1);var n="";return n=e instanceof Request?e.url:function(e){return e instanceof URL}(e)?e.href:e,t||(n=this.isString(n)?n.split("?")[0]:n),n}var h=n(8031),v=n(1964),y=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},b=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},g=function(){function e(e){this.whiteList=null==e?void 0:e.whiteList,this.handleRequest=null==e?void 0:e.handleRequest,this.handleResponse=null==e?void 0:e.handleResponse,"undefined"!=typeof window&&window.fetch&&(this.revoke=this.patch())}return e.prototype.inWhiteList=function(e){return y(this,void 0,Promise,(function(){var t;return b(this,(function(n){return(t=this.whiteList)?Array.isArray(t)?[2,t.some((function(t){return t===e}))]:[2,t(e)]:[2,!1]}))}))},e.prototype.patch=function(){var e,t,n=this,r=!1,o=window.fetch,i=function(e,t){return y(n,void 0,void 0,(function(){var n,i,a,c,u,s=this;return b(this,(function(l){switch(l.label){case 0:return r?[2,o(e,t)]:(n=d(e,!0),[4,this.inWhiteList(n)]);case 1:return l.sent()?[2,o(e,t)]:(i=e,a=t,c=h.V.fromFetch(e,t),this.handleRequest?[4,this.handleRequest(c)]:[3,3]);case 2:c=l.sent(),u=c.applyOnFetch(e,t),i=e,a=u,l.label=3;case 3:return[2,o(i,a).then((function(e){return y(s,void 0,void 0,(function(){return b(this,(function(t){switch(t.label){case 0:return this.handleResponse?[4,this.handleResponse(v.u.fromFetch(e),c)]:[3,2];case 1:return t.sent(),[2,e];case 2:return[2,e]}}))}))}))]}}))}))};return e=o,t=i,Object.defineProperties(t,{name:Object.getOwnPropertyDescriptor(e,"name"),length:Object.getOwnPropertyDescriptor(e,"length"),toString:{enumerable:!1,configurable:!1,writable:!0,value:function(){return e.toString()}},toLocaleString:{enumerable:!1,configurable:!1,writable:!0,value:function(){return e.toLocaleString()}},valueOf:{enumerable:!1,configurable:!1,writable:!0,value:function(){return e.valueOf()}}}),window.fetch=i,function(){r=!0}},e.prototype.dispose=function(){var e;null===(e=this.revoke)||void 0===e||e.call(this),this.handleRequest=void 0,this.handleResponse=void 0,this.whiteList=void 0},e}(),w=n(2010),m=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},_=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},E=function(){function e(e){this.whiteList=null==e?void 0:e.whiteList,this.handleRequest=null==e?void 0:e.handleRequest,this.handleResponse=null==e?void 0:e.handleResponse,"undefined"!=typeof window&&window.XMLHttpRequest&&(this.revoke=this.patch())}return e.prototype.inWhiteList=function(e){return m(this,void 0,Promise,(function(){var t;return _(this,(function(n){return(t=this.whiteList)?Array.isArray(t)?[2,t.some((function(t){return t===e}))]:[2,t(e)]:[2,!1]}))}))},e.prototype.patch=function(){var e=window.XMLHttpRequest,t=!1,n=this;return window.XMLHttpRequest=new Proxy(e,{construct:function(e){if(t)return new e;var r,o,i,a=new e,c=new w.W,u=!1,s=function(e){return function(){for(var r=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];4!==this.readyState||t||u?null==e||e.call(this,o):m(r,void 0,void 0,(function(){var t,r;return _(this,(function(a){switch(a.label){case 0:return n.handleRequest?(t=v.u.fromXHR(this),[4,null===(r=n.handleResponse)||void 0===r?void 0:r.call(n,t,i)]):[3,2];case 1:a.sent(),a.label=2;case 2:return null==e||e.call(this,o),[2]}}))}))}};return new Proxy(a,{get:function(e,l,f){var p=e[l],d="";try{d=typeof p}catch(t){return e[l]}if(t)return"function"===d?function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return p.apply(this===f?e:this,t)}:e[l];try{if("setRequestHeader"===l)return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c.append(e[0],e[1])};if("open"===l)return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];o=t[0],r=t[1],e[l].apply(this===f?e:this,t)};if("send"===l)return function(){for(var p=this,d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];if(t)return c.forEach((function(e,t){a.setRequestHeader(t,e)})),void e[l].apply(this===f?e:this,d);m(p,void 0,void 0,(function(){return _(this,(function(t){switch(t.label){case 0:return[4,n.inWhiteList(r)];case 1:return(u=t.sent())?(c.forEach((function(e,t){a.setRequestHeader(t,e)})),e[l].apply(this===f?e:this,d),[2]):n.handleRequest?(i=h.V.fromXHR(this,{headers:c,url:r,method:o,body:d[0]}),[4,n.handleRequest(i)]):[3,3];case 2:return(i=t.sent()).applyOnXHR(a),[3,4];case 3:c.forEach((function(e,t){a.setRequestHeader(t,e)})),t.label=4;case 4:return e.onreadystatechange||(e.onreadystatechange=s(null)),e[l].apply(this===f?e:this,d),[2]}}))}))}}catch(e){}return"function"!==d?e[l]:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return p.apply(this===f?e:this,t)}},set:function(e,n,r){return t?(e[n]=r,!0):"onreadystatechange"===n?(e[n]=s(r),!0):(e[n]=r,!0)}})}}),function(){t=!0}},e.prototype.dispose=function(){var e;null===(e=this.revoke)||void 0===e||e.call(this)},e}(),C=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},O=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},S=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},k=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},I=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function P(){return"undefined"!=typeof performance?performance.now():Date.now()}var A,T,R=function(){function e(e){var t=this;this.disposed=!1,this.listenable=new l,this.requestInterceptors=[],this.responseInterceptors=[],this.handleRequest=function(e){return C(t,void 0,void 0,(function(){return O(this,(function(t){switch(t.label){case 0:return[4,this.requestScheduler(e)];case 1:return t.sent(),[2,e]}}))}))},this.handleResponse=function(e,n){return C(t,void 0,void 0,(function(){return O(this,(function(t){switch(t.label){case 0:return[4,this.responseScheduler(e,n)];case 1:return t.sent(),[2]}}))}))},this.inWhiteList=function(e){var n=t.whiteList;return!!n&&(Array.isArray(n)?n.some((function(t){return t===e})):n(e))},this.whiteList=null==e?void 0:e.whiteList,this.fetchPatcher=new g({handleRequest:this.handleRequest,handleResponse:this.handleResponse,whiteList:this.inWhiteList}),this.xhrPatcher=new E({handleRequest:this.handleRequest,handleResponse:this.handleResponse,whiteList:this.inWhiteList})}return e.prototype.setInterceptors=function(e,t){e&&(this.requestInterceptors=k([],S(e),!1)),t&&(this.responseInterceptors=k([],S(t),!1))},e.prototype.appendInterceptors=function(e,t){var n,r;e&&(n=this.requestInterceptors).push.apply(n,k([],S(e),!1)),t&&(r=this.responseInterceptors).push.apply(r,k([],S(t),!1))},e.prototype.addListener=function(e){return this.listenable.addListener(e)},e.prototype.requestScheduler=function(e){return C(this,void 0,Promise,(function(){var t,n,r;return O(this,(function(o){switch(o.label){case 0:return this.requestInterceptors.length?(t=[],n=k([],S(this.requestInterceptors),!1),r=P(),[4,this.runScheduler("Request",[e],t,n)]):[2];case 1:return o.sent(),this.listenable.notifyListeners({eventName:"SchedulerDone",data:{type:"request",duration:P()-r,done:t.map((function(e){return e.key})),pending:n.map((function(e){return e.key}))}}),[2]}}))}))},e.prototype.responseScheduler=function(e,t){return C(this,void 0,Promise,(function(){var n,r,o;return O(this,(function(i){switch(i.label){case 0:return this.responseInterceptors.length?(n=[],r=k([],S(this.responseInterceptors),!1),o=P(),[4,this.runScheduler("Response",[e,t],n,r)]):[2];case 1:return i.sent(),this.listenable.notifyListeners({eventName:"SchedulerDone",data:{type:"response",duration:P()-o,done:n.map((function(e){return e.key})),pending:r.map((function(e){return e.key}))}}),[2]}}))}))},e.prototype.runScheduler=function(e,t,n,r){var o;return C(this,void 0,void 0,(function(){var i,a,c,u,s,l,f,p,d,h,v,y,b,g,w,m,_,E,C,A,T,R,L,N,D,M,x=this;return O(this,(function(O){if(!r.length)return[2];a="do".concat(e,"Interceptor"),c=e.toLowerCase(),u=new Promise((function(e){return i=e})),s=[],l={};try{for(f=I(n),p=f.next();!p.done;p=f.next())A=p.value,l[A.key]=!0}catch(e){T={error:e}}finally{try{p&&!p.done&&(R=f.return)&&R.call(f)}finally{if(T)throw T.error}}for(d=r.length-1;d>=0;){if(A=r[d],null==(h=null===(o=A.dependencies)||void 0===o?void 0:o[c])?void 0:h.length){v=!0;try{for(L=void 0,y=I(h),b=y.next();!b.done;b=y.next())if("string"==typeof(g=b.value)){if(!l[g]){v=!1;break}}else if(!l[g.key]){v=!1;break}}catch(e){L={error:e}}finally{try{b&&!b.done&&(N=y.return)&&N.call(y)}finally{if(L)throw L.error}}v&&(s.push(A),r.splice(d,1))}else s.push(A),r.splice(d,1);d--}if(!s.length)return[2];w=0,m=function(){w===s.length&&(null==i||i())},_=function(o){var i=P();o[a].apply(o,k([],S(t),!1)).promise.then((function(a){var u=a.success,s=a.reason,l=a.result,f=a.message,p=P()-i;x.listenable.notifyListeners({eventName:"InterceptorFinish",data:{key:o.key,type:c,success:u,duration:p,reason:s,message:f}}),u?(n.push(o),!0===l&&x.runScheduler(e,t,n,r).then((function(){w++,m()}))):(w++,m())}))};try{for(E=I(s),C=E.next();!C.done;C=E.next())A=C.value,_(A)}catch(e){D={error:e}}finally{try{C&&!C.done&&(M=E.return)&&M.call(E)}finally{if(D)throw D.error}}return[2,u]}))}))},e.prototype.dispose=function(){this.disposed=!0,this.listenable.dispose(),this.fetchPatcher.dispose(),this.xhrPatcher.dispose()},e}(),L=n(3788),N=n(2463),D=n(4622),M=n(9936),x=n(2074),U=n(8584),F=n(5713),j=n(2727),H=n(7899),B=n(2442);!function(e,t,n){function r(e,t){var n=parseInt(e.slice(t,t+2),16);return n>>>7==0?[1,n]:n>>>6==2?(n=(63&n)<<8,[2,n+=parseInt(e.slice(t+2,t+4),16)]):(n=(63&n)<<16,[3,n+=parseInt(e.slice(t+2,t+6),16)])}var o,i=0,a=[],c=[];for(o=0;o<4;++o)i+=(3&parseInt(e.slice(8+2*o,10+2*o),16))<<2*o;var u=parseInt(e.slice(16,24),16),s=2*parseInt(e.slice(32,40),16);for(o=40;o<s+40;o+=2)a.push(parseInt(e.slice(o,o+2),16));var l=s+40,f=parseInt(e.slice(l,l+4),16);for(l+=4,o=0;o<f;++o){var p=r(e,l);l+=2*p[0];for(var d="",h=0;h<p[1];++h){var v=r(e,l);d+=String.fromCharCode(i^v[1]),l+=2*v[0]}c.push(d)}t.p=null,function e(t,n,r,o,i){var u,s,l,f,p,d=-1,h=[],v=[0,null],y=null,b=[n];for(s=Math.min(n.length,r),l=0;l<s;++l)b.push(n[l]);b.p=o;for(var g=[];;)try{switch(a[t++]){case 12:h[++d]=!0;break;case 10:h[++d]=!1;break;case 54:h[++d]=null;break;case 56:u=a[t++],h[++d]=u<<24>>24;break;case 59:u=(a[t]<<8)+a[t+1],t+=2,h[++d]=u<<16>>16;break;case 24:u=((u=((u=a[t++])<<8)+a[t++])<<8)+a[t++],h[++d]=(u<<8)+a[t++];break;case 45:u=(a[t]<<8)+a[t+1],t+=2,h[++d]=c[u];break;case 53:h[++d]=void 0;break;case 55:h[++d]=i;break;case 57:u=(a[t]<<8)+a[t+1],t+=2,d=d-u+1,s=h.slice(d,d+u),h[d]=s;break;case 40:h[++d]={};break;case 33:u=(a[t]<<8)+a[t+1],t+=2,s=c[u],l=h[d--],h[d][s]=l;break;case 67:for(s=a[t++],l=a[t++],f=b;s>0;--s)f=f.p;h[++d]=f[l];break;case 74:u=(a[t]<<8)+a[t+1],t+=2,s=c[u],h[d]=h[d][s];break;case 30:s=h[d--],h[d]=h[d][s];break;case 6:for(s=a[t++],l=a[t++],f=b;s>0;--s)f=f.p;f[l]=h[d--];break;case 49:s=h[d--],l=h[d--],f=h[d--],l[s]=f;break;case 58:for(s=a[t++],l=a[t++],f=b,f=b;s>0;--s)f=f.p;h[++d]=f,h[++d]=l;break;case 61:s=h[d--],h[d]+=s;break;case 62:s=h[d--],f=(l=h[d--])[s]--,h[++d]=f;break;case 60:s=h[d--],h[d]=h[d]===s;break;case 65:s=h[d--],h[d]=h[d]!==s;break;case 1:s=h[d--],h[d]=h[d]>s;break;case 2:h[d]=!h[d];break;case 75:u=(u=(a[t]<<8)+a[t+1])<<16>>16,t+=2,h[d]?--d:t+=u;break;case 48:u=(u=(a[t]<<8)+a[t+1])<<16>>16,t+=2,h[d]?t+=u:--d;break;case 23:s=h[d--],(l=h[d--])[s]=h[d];break;case 63:h[d]=void 0;break;case 32:h[d]=typeof h[d];break;case 43:u=a[t++],s=h[d--],(l=function e(){var t=e._u,n=e._v;return t(n[0],arguments,n[1],n[2],this)})._v=[s,u,b],l._u=e,h[++d]=l;break;case 42:u=(u=(a[t]<<8)+a[t+1])<<16>>16,t+=2,(s=g[g.length-1])[1]=t+u;break;case 8:u=(u=(a[t]<<8)+a[t+1])<<16>>16,t+=2,(s=g[g.length-1])&&!s[1]?(s[0]=3,s.push(t)):g.push([1,0,t]),t+=u;break;case 35:u=(u=(a[t]<<8)+a[t+1])<<16>>16,t+=2,g.push([2,0,t]),t+=u;break;case 13:throw s=h[d--];case 72:if(l=(s=g.pop())[0],f=v[0],1===l)t=s[1];else if(0===l)if(0===f)t=s[1];else{if(1!==f)throw v[1];if(!y)return v[1];t=y[1],i=y[2],b=y[3],g=y[4],h[++d]=v[1],v=[0,null],y=y[0]}else t=s[2],s[0]=0,g.push(s);break;case 5:for(s=h[d--],l=null;f=g.pop();)if(2===f[0]||3===f[0]){l=f;break}if(l)v=[1,s],t=l[2],l[0]=0,g.push(l);else{if(!y)return s;t=y[1],i=y[2],b=y[3],g=y[4],h[++d]=s,v=[0,null],y=y[0]}break;case 20:d-=u=a[t++],l=h.slice(d+1,d+u+1),s=h[d--],f=h[d--],s._u===e?(s=s._v,y=[y,t,i,b,g],t=s[0],null==f&&(f=function(){return this}()),i=f,(b=[l].concat(l)).length=Math.min(s[1],u)+1,b.p=s[2],g=[]):(p=s.apply(f,l),h[++d]=p);break;case 52:t+=2+(u=(u=(a[t]<<8)+a[t+1])<<16>>16);break;case 69:u=(u=(a[t]<<8)+a[t+1])<<16>>16,t+=2,(s=h[d--])||(t+=u);break;case 3:--d;break;case 44:s=h[d],h[++d]=s;break;default:throw new Error("ioe")}}catch(e){for(v=[0,null];(u=g.pop())&&!u[0];);if(!u){e:for(;y;){for(s=y[4];u=s.pop();)if(u[0])break e;y=y[0]}if(!y)throw e;t=y[1],i=y[2],b=y[3],g=y[4],y=y[0]}1===(s=u[0])?(t=u[2],u[0]=0,g.push(u),h[++d]=e):2===s?(t=u[2],u[0]=0,g.push(u),v=[3,e]):(t=u[3],u[0]=2,g.push(u),h[++d]=e)}}(u,[],0,t,n)}("504B0101a2c660c2000002b2c163c6a000000301430200202d00013c4b000a4300014302004a00021e06000343000302450004430001054300032c4a0003430001140106000439000006000623004123000e4300074500074300074a00040d482a002c4300054b00074300054a0005024b000b4300042d00061e3a00031745000d4300032c4a0003430004140103484808000e06000828430008210004060007482a003c43000238003f3c3000073a00023e3800014b00114300042c4a000714003a0005174a0005024500134300062c4a00084300054a000914010334ffc548430006054302012c4a000a4301022c4a000b18000001282b022814021401060002364302074300024300023d14010600033643020243000214010600042d000d2c4a000e4300032d000f14022c4a000e4300041401060005430005054301012c4a000c4300021401060003430003024500044300010543000343000143000231430001054300022c4a001014003b00c83c30001c4300022c4a001014003b01933c4b000c4300022c4a00114302111401024500020c052d000d06000308000406000c482a0016364302034300012c4a000c43020d1401140106000348430003024500020a0536430101430003363c30000743000338003f3c45000638003f34000c4300032c4a00122d000f14013802140206000443000438001e06000543000438011e060006430006024500020a0508000606000d0a05482a000d36430204430006140106000748364302074300074300073d1401430005410600084300084500020a053643020843000714010600094302052c4a001343000914012c4a000b18000002762b0228140206000a4301032c4a0015180000028e2b01140106000b43000b4500020a050c054301094300021e4300014300022c4a0014140031430001054301012c4a000c43000114014b00144301012c4a000c430001140143010a4300011e4105374b0004374a000030000718000000002b0206000143010a43010c43010e43010f43010b39000506000243011043010643010939000306000318000000d02b0106011218000001502b02060113350500160680d580d580f880ef80eb80ee0880ec80ff80e480e980fe80e380e580e40880e380fe80ef80f880eb80fe80e580f80480e980eb80e680e60580ef80f880f880e580f80480ee80e580e480ef0680f880ef80fe80ff80f880e40480e480ef80f280fe0480fa80ff80f980e20580fc80eb80e680ff80ef0980f980fe80f880e380e480ed80e380ec80f30680f880ef80ee80ff80e980ef0380ed80ef80fe000680e980e580e480e980eb80fe0280ac80ac0980ed80ef80fe80d980fe80eb80fe80ff80f90980ed80ef80fe80c280ef80eb80ee80ef80f80580f980fa80e680e380fe0480e180ef80f380f90b80fe80e580c680e580fd80ef80f880c980eb80f980ef0480f980e580e780ef",{0:Symbol,1:JSON,get 2(){return btoa},3:decodeURIComponent,get 4(){return atob},5:Object,get 6(){return F.d},get 7(){return i()},get 8(){return H.a},get 9(){return B.sb},get 10(){return B.zg},get 11(){return B.eM},get 12(){return B.Ny},get 13(){return B.dE},get 14(){return B.EG},get 15(){return B._E},get 16(){return B.qw},get 17(){return B.oX},get 18(){return A},set 18(e){A=e},get 19(){return T},set 19(e){T=e}},void 0);var G=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),W=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},q=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},K=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},V=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Y='{"actions":[{"name":"'.concat(L.Jg.SignatureFailure,'","params":{}}]}'),J=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dependencies={request:["LarkGatewayInterceptor"]},t.request=function(e){return W(t,void 0,Promise,(function(){var t,n,r,o;return q(this,(function(i){switch(i.label){case 0:return[4,this.doNotIntercept(e.absoluteURL)];case 1:return i.sent()?[2,!0]:(e.setHeader(B.Ny,encodeURIComponent(a.u.options.passportId)),e.setHeader(B.zg,encodeURIComponent(B.Gd.LSC_VERSION_HEADER)),c.Ru||e.setHeader(B.EG,encodeURIComponent(B.Gd.TERMINAL_HEADER)),[4,a.u.getConfig()]);case 2:return t=null===(o=null===(r=i.sent())||void 0===r?void 0:r.featureSwitch)||void 0===o?void 0:o.signature_check_frontend,!c.Ru&&t&&(n=this.getToken(e),e.setHeader(B.qw,n)),[2,!0]}}))}))},t.response=function(e,n){return W(t,void 0,Promise,(function(){var t,r,o,i,c,u,s,l,f,p,d,h;return q(this,(function(v){switch(v.label){case 0:return[4,this.doNotIntercept()];case 1:return v.sent()?[2,!0]:[4,a.u.getConfig()];case 2:return t=v.sent(),r=null==t?void 0:t.securityWebDomain,t?(o=e.getHeader(B.oX),i=e.getHeader(B.sb),[4,this.validateToken(e,n)]):(this.error("".concat(n.url.toString())),[2,!0]);case 3:return!v.sent()&&(i=Y),c=(0,B.JT)(i).actions,u=null===(d=c[0])||void 0===d?void 0:d.name,s=a.u.options.passportId,l=a.u.options.language,f={appid:s,language:l,redirectUrl:(null===(h=null===window||void 0===window?void 0:window.location)||void 0===h?void 0:h.href)||"",actions:c},p=function(){(0,j.Z)({urlParams:f,securityWebDomain:r,lscCode:o,lscDecision:i,appId:s})},[L.Jg.SignatureFailure].includes(u)&&r?(U.j4.beaconEvent("cond_access_server_decision",{type:"success",code:o,action_name:u}),N.u.has(x.ST.SIGNATURE_FAILURE)?(N.u.emit(x.ST.SIGNATURE_FAILURE,{lscCode:o,lscDecision:i,appId:s,doRedirect:function(){return(0,j.Z)({urlParams:f,securityWebDomain:r,lscCode:o,lscDecision:Y,appId:s})}}),[2,!0]):((0,j.Z)({urlParams:f,securityWebDomain:r,lscCode:o,lscDecision:Y,appId:s}),[2,!1])):o?0===c.length?(U.j4.send("cond_access_server_decision",{type:"error",code:o}),this.error("".concat(n.url.toString(),":").concat(M.Rm.NO_ACTION_IN_RESPONSE_HEADER,":").concat(i)),[2,!0]):[L.Jg.Network,L.Jg.MFA,L.Jg.DeviceState,L.Jg.DeviceOwn].includes(u)&&o===F.d&&r?(U.j4.beaconEvent("cond_access_server_decision",{type:"success",code:o,action_name:u}),N.u.has(x.ST.CONDITIONAL_ACCESS)?(N.u.emit(x.ST.CONDITIONAL_ACCESS,{lscCode:o,lscDecision:i,appId:s,doRedirect:p}),[2,!0]):(p(),[2,!1])):[2,!0]:[2,!0]}}))}))},t}return G(t,e),t.prototype.getToken=function(e){var t=e.headerEntries();return A(new Headers(V([],K(t),!1)))},t.prototype.validateToken=function(e,t){var n;return W(this,void 0,Promise,(function(){var r,o,i;return q(this,(function(c){switch(c.label){case 0:return!t.url.toString().includes("lark/scs/compliance/ping")||t.url.toString().includes("ping_tenant_restriction")?[2,!0]:[4,a.u.getConfig()];case 1:return r=c.sent(),(null===(n=null==r?void 0:r.featureSwitch)||void 0===n?void 0:n.signature_check_frontend)?(o=e.headerEntries(),i=t.headerEntries(),[2,T(new Headers(V(V([],K(o),!1),K(i),!1)),e)]):[2,!0]}}))}))},t.prototype.doNotIntercept=function(e){return W(this,void 0,Promise,(function(){var t;return q(this,(function(n){switch(n.label){case 0:return[4,a.u.getConfig()];case 1:return((t=n.sent())||(null==e?void 0:e.includes(window.location.host)))&&t.sdkSwitch?[2,!1]:[2,!0]}}))}))},t.prototype.error=function(e,t){void 0===t&&(t=""),(0,U.DO)({funcName:"",args:[],error:void 0,type:"error",cause:e,stack:t})},t.key="ConditionalAccessInterceptor",t}(D.n),Z=n(213),X=n(2345),z=n(1720),$=n(4455),Q=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ee=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},te=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},ne=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},re=function(e){function t(){var t=e.call(this)||this;return t.initTimer(),t.onVisibilityChange(),t}var n;return Q(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return new n},enumerable:!1,configurable:!0}),t.prototype.initTimer=function(e){var t;return te(this,void 0,Promise,(function(){var n,r;return ne(this,(function(o){switch(o.label){case 0:return[4,a.u.getConfig()];case 1:return n=o.sent(),r=null===(t=null==n?void 0:n.featureParams)||void 0===t?void 0:t.heartbeatInterval,this.addTimer({handler:this.ping.bind(this),interval:e||r||z.l3.interval,immediate:!0}),[2]}}))}))},t.prototype.ping=function(){var e,t;return te(this,void 0,void 0,(function(){var n,r,o,i,c;return ne(this,(function(u){switch(u.label){case 0:return[4,a.u.getConfig()];case 1:return n=u.sent(),r=null==n?void 0:n.securityApiDomain,o=null===(e=null==n?void 0:n.featureSwitch)||void 0===e?void 0:e.heartbeat,i=null===(t=null==n?void 0:n.featureParams)||void 0===t?void 0:t.heartbeatInterval,n&&r?this.heartbeatOn!==o&&void 0!==this.heartbeatOn?(this.clearAllTimers(),c=o?i:36e5,this.initTimer(c),this.heartbeatOn=o,[2]):(this.heartbeatOn=o,this.heartbeatOn?((0,X.q)(r),[2]):[2]):[2]}}))}))},t=n=ee([(0,Z.p)()],t)}($.N),oe=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},ie=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},ae=[/\/settings\/v3/,/\/monitor_browser\/collect\/batch/,/\/space\/api\/v2\/sheet\/sub_block/,/\/space\/api\/v2\/sheet\/client_vars/,/\/client_vars/,/\/space\/api\/v2\/sheet\/formula_cache/,/\/space\/api\/suite\/permission\/user\/mget/,/\/space\/api\/suite\/permission\/document\/actions\/state/,/\/vc\/api\/custom_level\/first_screen/,/\/space\/api\/comment\/message_box\/get_init_data/,/\/space\/api\/ccm_setting\/get/,/\/space\/api\/user/,/.*\.js/,/\/lark\/security\/internal\/terminal\/intranet\/token/,/\/lark\/security\/terminal\/intranet\/service_info/];function ce(e,t){return void 0===e&&(e=[]),e.some((function(e){return function(e,t){return void 0===t&&(t=""),new RegExp(e.replace(/[\[\]\\{}()+*?.$^|]/g,(function(e){return"\\".concat(e)})),t)}(e.pattern,e.flags).test(t)}))}function ue(e){return oe(this,void 0,Promise,(function(){var t,n,r,o,i,c,u,s;return ie(this,(function(l){switch(l.label){case 0:try{t=new URL(e,window.location.origin).href}catch(n){t=e}return ae.some((function(e){return e.test(t)}))?[2,!0]:[4,a.u.getConfig()];case 1:return(n=l.sent())?(r=n.whiteList,i=(o=r||{}).userAgent,c=o.locationSearch,ce(i,null===navigator||void 0===navigator?void 0:navigator.userAgent)||ce(c,null===location||void 0===location?void 0:location.search)?[2,!0]:(u=function(e){var t=a.u.options.baseDomain,n=e.whiteList||{},r=n.requestUrl,o=n.shouldInterceptUrl,i=null==r?void 0:r.map((function(e){return{pattern:e.pattern.replace(/{{baseDomain}}/,t),flags:e.flags}}));return{shouldInterceptUrls:null==o?void 0:o.map((function(e){return{pattern:e.pattern.replace(/{{baseDomain}}/,t),flags:e.flags}})),shouldnotInterceptUrls:i}}(n),s=u.shouldnotInterceptUrls,[2,!ce(u.shouldInterceptUrls,t)||ce(s,t)])):[2,!0]}}))}))}function se(e){return oe(this,void 0,Promise,(function(){var t,n;return ie(this,(function(r){switch(r.label){case 0:return t=function(e){if(!(0,f.Z)(e))return!1;var t=p(e.split(":"),2),n=t[0];return!t[1]||"http"===n||"https"===n}(e),(n=!t)?[3,2]:[4,ue(e)];case 1:n=r.sent(),r.label=2;case 2:return[2,n]}}))}))}var le,fe=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},pe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},de=function(){var e,t;try{return(null===(t=null===(e=a.u.getConfigSync())||void 0===e?void 0:e.featureSwitch)||void 0===t?void 0:t.disableInterceptor)?null:(le||(le=new R({whiteList:se})),le)}catch(e){return null}},he=function(){var e;new re;var t=new J;null===(e=de())||void 0===e||e.setInterceptors([t],[t])},ve=function(e){var t,n,r,o=(null===(r=null===(n=a.u.getConfigSync())||void 0===n?void 0:n.featureSwitch)||void 0===r?void 0:r.os_new)?c.oU:c.H9,s=e.baseDomain,l=((t={})[B._E]=encodeURIComponent(c.rD),t[B.eM]=encodeURIComponent(o),t),f=JSON.stringify(l),p=i()(f+f),d=btoa(f),h="".concat(p,"&&").concat(d);l[B.qw]=h,Object.keys(l).forEach((function(e){var t=l[e];(0,u.d8)({key:e,value:t,domain:s})}))},ye=function(e){var t=e.baseDomain;[B._E,B.eM,B.qw].forEach((function(e){return(0,u.kT)({key:e,domain:t})}))},be=function(){n.e(82).then(n.bind(n,5440)).then((function(e){return new(0,e.LoginRestriction)}))},ge=function(){return fe(void 0,void 0,Promise,(function(){var e,t;return pe(this,(function(r){switch(r.label){case 0:return[4,a.u.getConfig()];case 1:return e=r.sent(),(null===(t=null==e?void 0:e.featureSwitch)||void 0===t?void 0:t.web_did_check)&&n.e(303).then(n.bind(n,5322)).then((function(e){return new(0,e.WebdidSecurityCheck)})),[2]}}))}))},we=function(){return fe(void 0,void 0,Promise,(function(){var e,t;return pe(this,(function(r){switch(r.label){case 0:return[4,a.u.getConfig()];case 1:return e=r.sent(),(null===(t=null==e?void 0:e.featureSwitch)||void 0===t?void 0:t.web_fingerprint_collect)&&n.e(303).then(n.bind(n,9158)).then((function(e){return new(0,e.Fingerprint)})),[2]}}))}))}},2442:(e,t,n)=>{"use strict";n.d(t,{DH:()=>m,EG:()=>u,Gd:()=>a,Ig:()=>D,JT:()=>i,Ny:()=>s,Pj:()=>N,Rg:()=>y,T9:()=>_,UA:()=>w,Wh:()=>T,_E:()=>f,bH:()=>I,cy:()=>M,dE:()=>S,e8:()=>P,eM:()=>p,h7:()=>v,md:()=>b,o7:()=>h,oX:()=>O,pX:()=>k,qA:()=>d,qw:()=>l,sb:()=>C,sh:()=>E,w5:()=>R,xD:()=>A,xH:()=>g,zg:()=>c,zk:()=>L});var r=n(3788),o=n(7899),i=function(e){var t=(0,o.a)(e),n=(null==t?void 0:t.actions)||[];return t&&!(null==t?void 0:t.effect)&&(t.effect=r.Qm.Deny),{decision:t,actions:n}},a={TERMINAL_HEADER:"web",LSC_VERSION_HEADER:"1"},c="x-lsc-version",u="x-lsc-terminal",s="x-lsc-bizid",l="x-lsc-token",f="x-lgw-terminal-type",p="x-lgw-os-type",d="x-lgw-app-version",h="x-lgw-device-id",v="x-lgw-os-version",y="x-lgw-device-type",b="x-lgw-install-id",g="x-lgw-locale",w="x-lgw-app-id",m="x-lgw-user-id",_="x-lgw-sec-token",E="x-lgw-csrf-token",C="x-lsc-decision",O="x-lsc-code",S="x-lsc-resp-token",k="x-lsc-source-ip",I="x-passport-dpop",P="x-passport-dpop-certificate",A="x-passport-dpop-decision",T="lark-policy-sdk-crypto-store",R="lmp_crypto_cache",L="lmp_key_pair",N="lmp_certificate_key",D=403,M="lgw_csrf_token"},5533:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});var r=n(3742),o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},a=function(){return function(e,t,n){var a=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!r.u.hasInited())throw Error("Please use policySdk.init({...}) first !");return a.apply(this,i([],o(e),!1))}}}},3742:(e,t,n)=>{"use strict";n.d(t,{u:()=>T});var r,o=n(3031),i=n(9972),a=n(4821),c=n(2074),u=n(6379),s=n(4720),l=n(213),f=n(2463),p=n(9208),d=n(8584),h=n(2808),v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},y=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},b=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},g=function(e){return y(void 0,void 0,Promise,(function(){var t,n,r,o,i,a,u,s,l,f,p,y,g,w,m,_,E,C,O,S,k,I,P,A,R,L,N,D,M,x,U,F,j,H,B,G,W,q;return b(this,(function(b){switch(b.label){case 0:if(n=(t=e||{}).baseDomain,r=t.passportId,o=t.devSdkConfig,i=t.env,!n)throw Error("empty baseDomain");return a=function(e,t){void 0===t&&(t="");var n=h.Ru?"pc":"web";return e||(0,d.DO)({error:"getConfigApiUrl: baseDomain not available (passportId: ".concat(t,", platform: ").concat(n,")"),type:"Error",funcName:"getConfigApiUrl",args:[]}),"https://internal-api-lark-api.".concat(e,"/settings/v3/?platform=").concat(n,"&app_id=").concat(t,"&version=5.7.0&tags=policy_sdk_config&fg_tags=policy_sdk_config")}(n,r),i===c.qA.development&&o?(u=o,[3,5]):[3,1];case 1:return T.requestMethod?[3,5]:[3,2];case 2:return[4,fetch(a,{credentials:"include"})];case 3:return[4,b.sent().json()];case 4:u=b.sent(),b.label=5;case 5:if(s=null===(C=null===(E=null===(_=null==u?void 0:u.data)||void 0===_?void 0:_.biz_domain_config)||void 0===E?void 0:E.security_and_compliance)||void 0===C?void 0:C[0],l=null===(k=null===(S=null===(O=null==u?void 0:u.data)||void 0===O?void 0:O.biz_domain_config)||void 0===S?void 0:S.security_login_restriction)||void 0===k?void 0:k[0],f=null===(A=null===(P=null===(I=null==u?void 0:u.data)||void 0===I?void 0:I.biz_domain_config)||void 0===P?void 0:P.passport_accounts)||void 0===A?void 0:A[0],p=null===(N=null===(L=null===(R=null==u?void 0:u.data)||void 0===R?void 0:R.biz_domain_config)||void 0===L?void 0:L.security_web)||void 0===N?void 0:N[0],y=null===(x=null===(M=null===(D=null==u?void 0:u.data)||void 0===D?void 0:D.biz_domain_config)||void 0===M?void 0:M.scs_data)||void 0===x?void 0:x[0],g=null===(j=null===(F=null===(U=null==u?void 0:u.data)||void 0===U?void 0:U.biz_domain_config)||void 0===F?void 0:F.lgw_csrf_domain)||void 0===j?void 0:j[0],w=null===(H=null==u?void 0:u.data)||void 0===H?void 0:H.sec_sdk_web,m=null===(W=null===(G=null===(B=null==u?void 0:u.data)||void 0===B?void 0:B.biz_domain_config)||void 0===G?void 0:G.suite_bdmssdk)||void 0===W?void 0:W[0],!s)throw Error("empty api domain");return[2,v(v({},null===(q=null==u?void 0:u.data)||void 0===q?void 0:q.policy_jssdk),{securityApiDomain:s,securityWebDomain:p,securityDataDomain:y,passportAccountsDomain:f,securityLoginRestrictionApiDomain:l,csrfApiDomain:g,secSdkWeb:w,bdmsSdkApiDomain:m})]}}))}))},w=n(9936),m=n(1720),_=n(4455),E=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),C=function(e){function t(){var t=e.call(this)||this;return t.onVisibilityChange(),t}return E(t,e),t}(_.N),O=n(2515),S=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=function(){return(k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},I=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},P=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},A=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n,r;return S(t,e),n=t,t.prototype.setRequestMethod=function(e){this.requestMethod=e},Object.defineProperty(t.prototype,"options",{get:function(){return this._options?k({},this._options):{}},enumerable:!1,configurable:!0}),t.prototype.handleOnOptionsChange=function(e,t){(null==t?void 0:t.userId)&&(null==e?void 0:e.userId)!==t.userId&&((0,O.I)(t.userId),f.u.emit(c.GE.SDK_LOGIN,t.userId),(null==e?void 0:e.userId)&&f.u.emit(c.GE.TENANT_SWITCH,t))},Object.defineProperty(t,"instance",{get:function(){return new n},enumerable:!1,configurable:!0}),t.prototype.hasInited=function(){return Object.keys(this.options).length>0},t.prototype.initOptions=function(e){return!this.hasInited()&&(this._options=e,!0)},t.prototype.setOptions=function(e){if(!this.hasInited())throw Error("Please initOptions first!");return this._options=k(k({},this._options),e),k({},this._options)},t.prototype.queryInfos=function(){var e=this;this.getConfig().then((function(t){var n;(null===(n=null==t?void 0:t.featureSwitch)||void 0===n?void 0:n.signature_check_frontend)?(0,p.Ct)(e.options):(0,p.FD)(e.options),f.u.emit(c.GE.SDK_COLD_BOOST,t);var r=(null==t?void 0:t.featureParams)||{},o=r.policy_engine_fetch_policy_interval,i=r.queryConfigInterval;e.addTimer({handler:function(){return e.queryConfig()},interval:i||m.sI.interval});var a=o||m.sI.interval;e.addTimer({handler:function(){return f.u.emit(c.GE.STATIC_POINTCUT_POLLING)},interval:a})}))},t.prototype.getConfig=function(){var e=this;return u.g.getCacheAsync({query:function(){return e.queryConfig()},partition:this.options.userId}).then((function(e){if(e){var t=e.securityApiDomain;if(!t)throw Error(w.cl.GET_SECURITY_API_DOMAIN_ERROR);(0,i.Rv)({baseURL:t.startsWith("http")?t:"https://".concat(t)}),(0,a.gY)({baseURL:t.startsWith("http")?t:"https://".concat(t)})}return e}))},t.prototype.getConfigSync=function(){return u.g.getCache(this.options.userId)||null},t.prototype.queryConfig=function(){return P(this,void 0,void 0,(function(){var e,t,n;return A(this,(function(r){switch(r.label){case 0:return[4,g(this.options)];case 1:return e=r.sent(),t=u.g.getCache(this.options.userId),(n=k(k({},t),e)).securityWebDomain||("empty security web domain@getConfig",(0,d.M2)({error:"empty security web domain@getConfig",type:"Error",funcName:"queryConfig",newSecurityApiDomain:null==e?void 0:e.securityApiDomain,oldSecurityApiDomain:null==t?void 0:t.securityApiDomain,args:[]})),[2,u.g.setCache(this.options.userId,n)]}}))}))},t.prototype.waitUntilFinishLoading=function(e){var t=e.timeout,n=e.interval,r=e.getCache,i=e.setCache,a=e.timeoutDecision;return(0,o.X_)((function(){var e=r();if(!e||(null==e?void 0:e.cache.loading))throw Error(w.cl.GENERAL_QUERY_INFO_TIMEOUT);return e}),{interval:n,timeout:t}).catch((function(e){return(0,d.DO)({error:e,type:"Error",funcName:"waitUntilFinishLoading",args:[t,n,a]}),i({success:!1,loading:!1,fallbackDecision:a,errorMsg:null==e?void 0:e.message,errorStack:null==e?void 0:e.stack})}))},I([(r=function(e,t,n){e.handleOnOptionsChange(t,n)},function(e,t,n){var o,i=null===(o=null==n?void 0:n.initializer)||void 0===o?void 0:o.call(n);return{get:function(){return i},set:function(t){r(e,i,t),i=t}}})],t.prototype,"_options",void 0),I([(0,s.f)({onCatch:function(){return null},onReturn:function(e,t){return t||null}})],t.prototype,"getConfig",null),I([(0,s.f)({onCatch:function(){return null}})],t.prototype,"queryConfig",null),t=n=I([(0,l.p)()],t)}(C).instance},8617:(e,t,n)=>{"use strict";n.d(t,{E:()=>v});var r=n(3788),o=n(213),i=n(3742),a=n(5533),c=n(2074),u=n(8584),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};var f=function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},p=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},h=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},v=new(function(){function e(){this.plugins={}}return e.prototype.registerPlugin=function(e,t){if(!this.plugins[e.pluginName]){if(!e.pluginName)throw Error("Plugin need static property: pluginName: string, Please add it!");this.plugins[e.pluginName]=new e(i.u.options,t)}},e.prototype.getPluginByName=function(e){return this.plugins[e]},e.prototype.getPluginsBy=function(e){return Object.values(this.plugins).flatMap((function(t){var n,r=null===(n=null==t?void 0:t.match)||void 0===n?void 0:n.call(t,e.map((function(e){return e.policyModel.pointKey})));if(r){var o=new Set(r);return{plugin:t,inputs:e.filter((function(e){return o.has(e.policyModel.pointKey)}))}}return[]}))},e.prototype.execPluginCheckAction=function(e,t){var n=this;return function(e,t){return s(this,void 0,void 0,(function(){var n,r,o,i,a;return l(this,(function(c){switch(c.label){case 0:n=[],r=[],o=0,c.label=1;case 1:if(!(o<e.length))return[3,6];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,t(e[o],o,e)];case 3:return i=c.sent(),n.push(i.result),i.cancel?[3,6]:[3,5];case 4:return a=c.sent(),r.push({item:e[o],error:a}),[3,5];case 5:return o++,[3,1];case 6:return[2,{result:n,errors:r}]}}))}))}(this.getPluginsBy(e),(function(e){return d(n,void 0,void 0,(function(){var n,r;return h(this,(function(o){switch(o.label){case 0:return n=e.plugin,r=e.inputs,[4,t(n,r)];case 1:return[2,{result:o.sent(),cancel:!1}]}}))}))})).then((function(t){var o=t.result,i=t.errors;n.handlePluginError(i);var a=e.reduce((function(e,t){return o.forEach((function(n){var o;if(n){var i=n[t.taskId];if((null==i?void 0:i.effect)===r.Qm.Deny)return void(e[t.taskId]=f(f({},i),{type:c.Up.pluginCalculate}));(null===(o=e[t.taskId])||void 0===o?void 0:o.effect)||(e[t.taskId]=f(f({},i),{type:c.Up.pluginCalculate}))}})),e}),{});return Object.keys(a).length>0&&a}))},e.prototype.execPluginCheckActionSync=function(e,t){var n;return this.getPluginsBy([e]).some((function(e){var o=e.plugin,i=e.inputs,a=t(o,i[0]);return!(!a||(n=a,(null==a?void 0:a.effect)!==r.Qm.Deny))})),!!n&&f(f({},n),{type:c.Up.pluginCalculate})},e.prototype.handlePluginError=function(e){e.length>0&&e.forEach((function(e){(0,u.DO)({funcName:"execPluginCheckAction",error:e.error,args:[e.item.plugin.getPluginName()],type:"Error"})}))},e.prototype.updateOldPastePlugin=function(e,t){var n,r,o=t.options,i=t.pluginProps,a=Object.keys(o).length>0;i&&((null==e?void 0:e.registerProps)&&(e.registerProps=f(f({},e.registerProps),i)),null===(n=null==e?void 0:e.onRegisterPropsChange)||void 0===n||n.call(e,i)),a&&(e.commonProps=f(f({},e.commonProps),o),null===(r=null==e?void 0:e.onCommonPropsChange)||void 0===r||r.call(e,o))},e.prototype.updateProps=function(e){var t=this,n=e.options,r=void 0===n?{}:n,o=e.pluginProps,i=void 0===o?{}:o;Object.keys(this.plugins).forEach((function(e){var n,o=t.plugins[e];t.updateOldPastePlugin(o,{options:r,pluginProps:i[e]}),null===(n=null==o?void 0:o.updateProps)||void 0===n||n.call(o,r,i[e])}))},p([(0,a.B)()],e.prototype,"registerPlugin",null),p([(0,a.B)()],e.prototype,"getPluginByName",null),e=p([(0,o.p)()],e)}())},2106:(e,t,n)=>{"use strict";n.d(t,{U:()=>r,W:()=>o});var r=function(){},o=function(){function e(e,t){this.commonProps=e,this.pluginProps=t}return e.prototype.match=function(e){var t=this,n=e.filter((function(e){var n;return null===(n=t.pointKeyList)||void 0===n?void 0:n.includes(e)}));return n.length>0&&n},e}()},2345:(e,t,n)=>{"use strict";n.d(t,{p:()=>o,q:()=>r});var r=function(e){var t=e.startsWith("http")?"".concat(e,"/lark/scs/compliance/ping"):"https://".concat(e,"/lark/scs/compliance/ping");return fetch(t,{method:"GET",credentials:"include"}).then((function(e){return e.text()})).catch((function(){}))},o=function(e){var t=e.startsWith("http")?"".concat(e,"/lark/scs/compliance/ping_tenant_restriction"):"https://".concat(e,"/lark/scs/compliance/ping_tenant_restriction");return fetch(t,{method:"GET",credentials:"include"})}},9936:(e,t,n)=>{"use strict";n.d(t,{My:()=>u,N9:()=>i,Rm:()=>a,cl:()=>c,fj:()=>o});var r=n(2074),o={frontEngine:100},i=(r.Mi.FileProtect,{NO_DECISION:"NO DECISION",USE_FALLBACK_WITHOUT_CACHE:"FALLBACK ON SYNC OPERATION",CALC_POLICY_FROM_BACKEND_FAIL:"CALC POLICY FROM BACKEND FAIL"}),a={NO_ACTION_IN_RESPONSE_HEADER:"NO ACTION IN RESPONSE HEADER",DECISION_IS_NOT_JSON:"DECISION IS NOT JSON",DECISION_IS_NOT_ARRAY:"DECISION IS NOT ARRAY",RESPONSE_ACTION_NAME_IS_EMPTY:"RESPONSE ACTION NAME IS EMPTY",OVERRITE_FETCH_ERROR:"OVERRITE FETCH ERROR",OVERRITE_XHR_ERROR:"OVERRITE XHR ERROR"},c={PRELOAD_DECISION_ERROR:"Preload decision error, we have report to slardar, you can oncall to follow this problem",BATCH_CHECK_DECISION_ERROR:"Batch check decision error, we have report to slardar, you can oncall to follow this problem",IS_FAST_PASS_ERROR:"Is Fast Pass error, we have report to slardar, you can oncall to follow this problem",LOAD_TENANT_POLICY_ERROR:"Load tenant policy error, we have report to slardar, you can oncall to follow this problem",CHECK_ACTION_ERROR:"Exec checkAction error,  we have report to slardar, you can oncall to follow this problem",GET_SECURITY_API_DOMAIN_ERROR:"Get securityApiDomain error,  we have report to slardar, you can oncall to follow this problem",GENERAL_QUERY_INFO_TIMEOUT:"General query info error, we have report to slardar, you can oncall to follow this problem",QUERY_CONFIG_INFO_TIMEOUT:"Query config info error, we have report to slardar, you can oncall to follow this problem",CALC_RULES_WITHOUT_EXPR:"No expr in condition",PRELOAD_DECISION_MAXIMUM_LIMIT_EXCEEDED:"Batch threshold = 2000 met!",LOAD_SDK_CONFIG_FAIL:"Load Sdk Config Fail, Details:",ENFORCEMENT_REQUEST_ERROR:function(e){return"Enforcement request with error code: ".concat(e)},FEATURE_KEY_NOT_FOUND:"Feature key not found error",DISABLE_FILE_OPERATE_ON:"disable_file_operate key is true"},u={batchThreshold:100,countsPerBatchEnforce:20,countsPerBatchControlCheck:100}},1720:(e,t,n)=>{"use strict";n.d(t,{l3:()=>o,r_:()=>i,sI:()=>r});var r={retryInterval:1e3,timeout:3e3,interval:3e5},o={retryInterval:1e3,timeout:1e4,interval:5e3},i={retryInterval:1e3,timeout:1e4,interval:9e5}},4455:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});var r=function(){function e(){this.timers=[]}return e.prototype.stopAllTimers=function(){this.timers.forEach((function(e){e.timer&&clearInterval(e.timer)}))},e.prototype.clearAllTimers=function(){this.stopAllTimers(),this.timers=[]},e.prototype.addTimer=function(e){if(!e.interval)throw Error("Please set interval for addTimer !");e.immediate&&e.handler(!0),e.timer=setInterval(e.handler,e.interval),this.timers.push(e)},e.prototype.reStartAllInterval=function(){this.timers.forEach((function(e){e.timer&&(clearInterval(e.timer),e.immediate&&e.handler(!0),e.timer=setInterval(e.handler,e.interval))}))},e.prototype.onVisibilityChange=function(){var e,t=this;"undefined"!=typeof document&&(null===(e=document.addEventListener)||void 0===e||e.call(document,"visibilitychange",(function(){"visible"===document.visibilityState?t.reStartAllInterval():t.stopAllTimers()})))},e}()},2074:(e,t,n)=>{"use strict";n.d(t,{BN:()=>s,GE:()=>o,Hu:()=>l,JZ:()=>p,Mi:()=>i,ST:()=>r,Up:()=>c,Vy:()=>f,dR:()=>a,lR:()=>v,qA:()=>h,yp:()=>d});var r,o,i,a,c,u=n(3788),s={effect:u.Qm.Permit,actions:[]},l={effect:u.Qm.NotApplicable,actions:[]},f={effect:u.Qm.Indeterminate,actions:[]},p={effect:u.Qm.Deny,actions:[]};!function(e){e.CONDITIONAL_ACCESS="PUSH_REQ_REGULATE",e.FILE_OPERATION_DENIAL="FILE_OPERATION_DENIAL",e.SIGNATURE_FAILURE="SIGNATURE_FAILURE",e.POLICY_UPDATE="POLICY_UPDATE",e.POINTCUT_UPDATE="POINTCUT_UPDATE",e.WORKFLOW_LOG="WORKFLOW_LOG",e.PRELOAD_DECISION_UPDATE="PRELOAD_DECISION_UPDATE"}(r||(r={})),function(e){e.STATIC_POINTCUT_POLLING="STATIC_POINTCUT_CHECK",e.NETWORK_ONLINE="NETWORK_ONLINE",e.BACK_TO_FRONT="VISIBILITY_CHANGE",e.TENANT_SWITCH="TENANT_SWITCH",e.SDK_COLD_BOOST="SDK_COLD_BOOST",e.SDK_LOGIN="SDK_LOGIN"}(o||(o={})),function(e){e.ConditionalAccessPolicy="COND_ACCESS",e.RetentionScopePolicy="RETENTION_SCOPE",e.RetentionDeletePolicy="RETENTION_DELETE",e.DLPPolicy="DLP",e.DLPAsyncPolicy="DLP_ASYNC",e.AlarmBehaviorAudit="ALARM_BEHAVIOR_AUDIT",e.DLPNative="DLP_NATIVE",e.FileProtect="FILE_PROTECT"}(i||(i={})),function(e){e[e.Allow=1]="Allow",e[e.Deny=2]="Deny"}(a||(a={})),function(e){e.frontFastpass="frontFastpass",e.frontFallback="frontFallback",e.backendFallback="backendFallback",e.settingsFallback="settingsFallback",e.frontCalculate="frontCalculate",e.backendCalculate="backendCalculate",e.pluginCalculate="pluginCalculate",e.cache="cache",e.unknown="unknown"}(c||(c={}));var d,h,v=[c.frontCalculate,c.backendCalculate,c.pluginCalculate];!function(e){e.cn="cn",e.sg="sg",e.va="va",e.gcp="gcp",e.private="private"}(d||(d={})),function(e){e.development="development",e.boe="boe",e.online="online"}(h||(h={}))},4118:(e,t,n)=>{"use strict";n.d(t,{d8:()=>r,ej:()=>o,kT:()=>i});var r=function(e){var t=e.key,n=e.value,r=e.domain,o=e.path,i=e.expires,a=void 0===i?new Date(Date.now()+2592e6).toUTCString():i,c=["".concat(t,"=").concat(n),r?"domain=".concat(r):"","expires=".concat(a),o?"path=".concat(o):"path=/"];document.cookie=c.filter(Boolean).join(";")},o=function(e){var t=document.cookie;if(!t||!e)return"";var n=t.split(";").find((function(t){return-1!==t.indexOf("".concat(e,"="))}));return n?function(e){try{return-1!==e.indexOf("%")?decodeURIComponent(e):e}catch(t){return e}}(n.trim().slice(e.length+1,n.length)):""},i=function(e){var t=e.key,n=e.domain,r=e.path,o=["".concat(t,"="),n?"domain=".concat(n):"","expires=Thu, 01 Jan 1970 00:00:01 GMT",r?"path=".concat(r):"path=/"];document.cookie=o.filter(Boolean).join(";")}},2808:(e,t,n)=>{"use strict";var r,o,i;n.d(t,{H9:()=>m,OE:()=>c,Ru:()=>s,bR:()=>E,j_:()=>l,oU:()=>_,rD:()=>w,wh:()=>u});var a="";"undefined"!=typeof window&&(a=(null===(i=null===(o=null===(r=null===window||void 0===window?void 0:window.navigator)||void 0===r?void 0:r.userAgent)||void 0===o?void 0:o.toLowerCase)||void 0===i?void 0:i.call(o))||"");var c,u,s=~a.indexOf("lark"),l=-1!==a.indexOf("docssdk");!function(e){e[e.Unknown=0]="Unknown",e[e.PC=1]="PC",e[e.Web=2]="Web",e[e.Android=3]="Android",e[e.iOS=4]="iOS",e[e.OtherMobile=8]="OtherMobile"}(c||(c={})),function(e){e[e.Unknown=0]="Unknown",e[e.Windows=1]="Windows",e[e.Linux=2]="Linux",e[e.Mac=3]="Mac",e[e.Android=4]="Android",e[e.iOS=5]="iOS",e[e.OpenHarmony=6]="OpenHarmony"}(u||(u={}));var f=function(){return!("undefined"==typeof window||!window||!window.navigator)&&(/ipad/gi.test(window.navigator.userAgent)||Boolean(navigator.maxTouchPoints)&&navigator.maxTouchPoints>2&&navigator.platform.includes("MacIntel"))};function p(){return/Android/i.test(a)}function d(){return/iphone|ipod/i.test(a)}var h="undefined"!=typeof navigator?navigator.platform:"";function v(){return h.includes("Mac")}function y(){return h.includes("Linux")}function b(){return h.includes("Win")}var g,w=function(){if(s){if(p())return c.Android;if(d()||f())return c.iOS;if(v()||b()||y())return c.PC}return c.Web}(),m=p()?u.Android:d()||f()?u.iOS:v()?u.Mac:b()?u.Windows:y()?u.Linux:u.Unknown,_=(g="undefined"!=typeof document&&"ontouchstart"in document.documentElement||"undefined"!=typeof orientation,/iphone|mac/i.test(h)&&g?u.iOS:p()?u.Android:d()||f()?u.iOS:v()?g?u.iOS:u.Mac:b()?g?u.Android:u.Windows:y()?g?u.Android:u.Linux:u.Unknown),E=(p()||d()||f(),function(){var e;return(e={},e[c.PC]="pc",e[c.Web]="web",e[c.Android]="web",e[c.iOS]="web",e)[w]}())},7899:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,a:()=>i});var r=["OBJECT_TENANT_ID","OBJECT_USER_ID","TENANT_ID","USER_ID","CHAT_ID","operatorTenantId","operatorUid","senderTenantId","senderUserId","chatID"],o=function(e){var t=e;return r.forEach((function(e){t=t.replace(new RegExp('"'.concat(e,'":("([0-9]+)")')),'"'.concat(e,'":$2'))})),t},i=function(e,t){void 0===t&&(t={});try{return JSON.parse(e)}catch(e){return t}}},8584:(e,t,n)=>{"use strict";n.d(t,{j4:()=>S,Ty:()=>C,DO:()=>I,M2:()=>k,qP:()=>O});var r,o,i,a,c=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},u=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};!function(e){e.VA="us",e.CN="cn",e.JP="jp",e.SG="sg",e.MY="my"}(o||(o={})),function(e){e.BOE="boe",e.PRE="pre",e.ONLINE=""}(i||(i={})),function(e){e[e.FEISHU=0]="FEISHU",e[e.LARK=1]="LARK",e[e.ANONYMOUS=2]="ANONYMOUS"}(a||(a={}));var s=((r={})[a.FEISHU]=["feishu","larkoffice"],r[a.LARK]=["larksuite"],r),l={brand:a.LARK,env:i.ONLINE,unit:o.VA},f=function(e){var t,n,r=i.ONLINE;try{for(var o=c(Object.values(i)),a=o.next();!a.done;a=o.next()){var u=a.value;if(u!==i.ONLINE)if(new RegExp("".concat(u,"$")).test(e)){r=u;break}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},p=function(e,t){var n,r,i=t===a.FEISHU?o.CN:o.VA,u=t===a.FEISHU?[o.JP,o.SG,o.VA,o.MY]:[o.JP,o.SG,o.MY];try{for(var s=c(u),l=s.next();!l.done;l=s.next()){var f=l.value;if(new RegExp("".concat(f,"$")).test(e)){i=f;break}}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i},d=function(e){var t,n,r=u(function(e){var t=e.split(".").filter(Boolean),n=t.length;return[t[n-3],t[n-2],t[n-1]]}(e),2),o=r[0],i=r[1],d=void 0===i?"":i,h=a.ANONYMOUS;try{for(var v=c(Object.keys(s)),y=v.next();!y.done;y=v.next()){var b=y.value;if(s[b].some((function(e){return d.includes(e)}))){h=Number(b);break}}}catch(e){t={error:e}}finally{try{y&&!y.done&&(n=v.return)&&n.call(v)}finally{if(t)throw t.error}}return h===a.ANONYMOUS?l:{brand:h,env:f(d),unit:p(o,h)}},h=function(){return d(location.host).brand===a.FEISHU?"cn":"va"},v=n(2515),y=function(){return(y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},b=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},g=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},w=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},m=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};var _=/(?:\/)?(?:space\/|drive\/)?(?:preview\/)?(?:component\/)?([a-zA-Z-_]+)?(?:\/([\w]*))/;var E=new(function(){function e(){this.cache=[],this.maxCacheLength=50}return e.prototype.pushCache=function(){var e=this;return{sendEvent:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.cache=m(m([],w(e.cache.slice(1-e.maxCacheLength)),!1),[t],!1)}}},Object.defineProperty(e.prototype,"instance",{get:function(){return this.ins?this.ins:this.pushCache()},set:function(e){this.ins=e,0!==this.cache.length&&this.cache.forEach((function(t){return null==e?void 0:e.sendEvent.apply(e,m([],w(t),!1))}))},enumerable:!1,configurable:!0}),e}()),C=function(e){var t=e.env,r=e.region,o=e.bid,a=e.passportId,c=e.tenantId,u=function(){return b(void 0,void 0,void 0,(function(){var e,u,s,l;return g(this,(function(f){switch(f.label){case 0:return e=function(e){if(void 0===e&&(e=window.location.pathname),e.split("/").filter((function(e){return e})).length<2)return"";var t=_.exec(e);return null==t?void 0:t[2]}(),u=function(n){var u=n.LmpReport,s=n.tracker,l=r||h();s.init({userId:v.x,channel:l}),s.update({userId:v.x,passport_id:a,tenant_id:c,version:"5.2.6"}),S=s;var f=new u({bid:o||"lark_policy_sdk_fe",env:t||(d(location.host).env===i.BOE?"boe":"online"),locale:r||h(),reportContext:{release:"5.2.6",name:"policy-sdk",userId:v.x,passportId:a,tenantId:c},plugins:{ajax:{autoWrap:!0,ignoreUrls:["/monitor_browser/collect/batch/"],collectBodyOnError:!1},fetch:{autoWrap:!0,ignoreUrls:["/monitor_browser/collect/batch/"],collectBodyOnError:!1},resource:{slowSessionThreshold:1e6}}});f.client("on","beforeSend",(function(t){var n,r;return t.common&&e&&(n=t.common,r=e,Object.keys(n).forEach((function(e){var t=n[e];"string"==typeof t&&-1!==t.indexOf(r)&&(n[e]=n[e].replace(r,"***"))}))),t})),E.instance=f},[4,n.e(611).then(n.bind(n,7569))];case 1:return s=f.sent().LmpReport,[4,n.e(611).then(n.bind(n,5477))];case 2:return l=f.sent().tracker,u({LmpReport:s,tracker:l}),[2]}}))}))};try{(void 0)(u)}catch(e){u()}},O=function(e){E.instance.sendEvent(e)},S={send:function(e,t){},beaconEvent:function(e,t){}},k=function(e){try{O({name:"policy_sdk_report",categories:y(y({},e),{logCreateAt:(new Date).getTime()})})}catch(e){}},I=function(e){var t;k(y(y({},e),{errorMsg:null===(t=e.error)||void 0===t?void 0:t.message}))}},2515:(e,t,n)=>{"use strict";var r;n.d(t,{I:()=>o,x:()=>r});var o=function(e){r=e}},7348:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var r={isFullUpdate:!1}},5713:(e,t,n)=>{"use strict";n.d(t,{d:()=>r});var r="100000"},9466:(e,t,n)=>{"use strict";n.d(t,{V8:()=>o});var r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=new(function(){function e(e){this.eventName=e,this.eventHandlers=[],this._window="undefined"!=typeof window?window:void 0,this.hookAdd(),this.hookRemove()}return e.prototype.addHandler=function(e){this.eventHandlers.push(e)},e.prototype.removeHandler=function(e){for(var t=this.eventHandlers.length-1;t>=0;t-=1)if(this.eventHandlers[t]===e)return void this.eventHandlers.splice(t,1)},e.prototype.removeAllHandlers=function(){var e=this._window;if(e)for(var t=this.eventHandlers.length-1;t>=0;t-=1)e.removeEventListener(this.eventName,this.eventHandlers[t])},e.prototype.hookAdd=function(){var e=this,t=this._window;if(t){var n=t.addEventListener;t.addEventListener=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=r(o||[],2),c=a[0],u=a[1];n.apply(t,o),c===e.eventName&&e.addHandler(u)}}},e.prototype.hookRemove=function(){var e=this,t=this._window;if(t){var n=t.removeEventListener;t.removeEventListener=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=r(o||[],2),c=a[0],u=a[1];n.apply(t,o),c===e.eventName&&e.removeHandler(u)}}},e}())("beforeunload")},2727:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(2074),o=n(2808),i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var a,c=n(9466);!function(e){e.Admin="13"}(a||(a={}));var u=function(e){var t=e.securityWebDomain,n=e.urlParams,u=e.lscCode,s=e.lscDecision,l=e.appId,f=function(){window.onbeforeunload=null,null===c.V8||void 0===c.V8||c.V8.removeAllHandlers(),window.location.href="https://".concat(t,"/conditionalaccess/deny?").concat(function(e){var t,n;function r(e){return encodeURIComponent(e).replace(/%20/g,"+")}var o=function e(t,n){void 0===n&&(n="");var r={};return Object.keys(t).forEach((function(o){"object"==typeof t[o]&&null!==t[o]?Object.assign(r,e(t[o],n?"".concat(n,"[").concat(o,"]"):o)):r[n?"".concat(n,"[").concat(o,"]"):o]=t[o]})),r}(e),a=Object.keys(o),c="";try{for(var u=i(a),s=u.next();!s.done;s=u.next()){var l=s.value;c+="".concat(r(l),"=").concat(r(o[l]),"&")}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return c.slice(0,-1)}(n))};"undefined"==typeof window||o.Ru||f();try{o.Ru&&(l===a.Admin&&f(),ShellAPI.app.ipc.emit(r.ST.CONDITIONAL_ACCESS,{lscCode:u,lscDecision:s,appId:l}))}catch(e){}}},5982:(e,t,n)=>{"use strict";n.d(t,{De:()=>a,OP:()=>u,j0:()=>c});var r,o=n(2074),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a={LOAD_CONFIG_FAIL_DECISION:i(i({},o.BN),{type:o.Up.frontFallback,message:"load config fail"}),SHARE_READ_SWITCH_OFF_DECISION:i(i({},o.BN),{type:o.Up.settingsFallback,message:"share read off"}),DISABLE_POLICY_ENGINE_DECISION:i(i({},o.BN),{message:"static pointcuts policy polling off",type:o.Up.frontFastpass}),DISABLE_FILE_STRATEGY_DECISION:i(i({},o.BN),{message:"policy check action off",type:o.Up.settingsFallback}),DISABLE_FILE_STRATEGY_CLIENT:i(i({},o.BN),{message:"static pointcuts file policy check action off",type:o.Up.settingsFallback}),DISABLE_MINUTES:i(i({},o.BN),{message:"minutes file policy point off",type:o.Up.settingsFallback})},c={isFullUpdate:!1},u=((r={})[o.Up.pluginCalculate]=800,r[o.Up.backendCalculate]=700,r[o.Up.frontCalculate]=600,r[o.Up.settingsFallback]=500,r[o.Up.frontFastpass]=400,r[o.Up.cache]=300,r[o.Up.backendFallback]=200,r[o.Up.frontFallback]=100,r[o.Up.unknown]=0,r)},3198:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(3031),o=n(1720),i=n(8584),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},u=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},s=o.sI.retryInterval,l=o.sI.timeout;function f(e,t,n){var o=this,f=e.url,p=e.method,d=e.data,h=t||{},v=h.baseURL,y=h.headers,b=h.timeout,g=v?v+f:f,w=new AbortController,m=b?setTimeout((function(){return w.abort()}),b):-1,_=b?{signal:w.signal}:{};return(0,r.X_)((function(){return c(o,void 0,void 0,(function(){var e,t,n;return u(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,3,4]),[4,fetch(g,a({method:p,body:JSON.stringify(d),credentials:"include",headers:y},_))];case 1:return e=r.sent(),[3,4];case 2:return t=r.sent(),(0,i.M2)({error:t.message}),[3,4];case 3:return clearTimeout(m),[7];case 4:return 200!==e.status?[3,6]:[4,e.json()];case 5:return(n=r.sent()).data||function(e){(0,i.M2)(a({error:"request success, but no data available in response",type:"Error",funcName:"uploadErrorOfNoData"},e))}({url:g,response:n,args:d,headers:y}),[2,{success:!0,data:n.data}];case 6:return function(e){var t=e.status,n=e.statusText,r=e.args,o=e.url,a=e.headers;(0,i.M2)({error:"request server error",status:t,statusText:n,url:o,headers:a,type:"Error",funcName:"uploadErrorWithStatusCode",args:r})}({args:d,status:e.status,statusText:e.statusText,url:g,headers:y}),[2,{success:!1}]}}))}))}),{interval:(null==n?void 0:n.retryInterval)||s,timeout:(null==n?void 0:n.timeout)||l}).catch((function(e){return(0,i.M2)({error:null==e?void 0:e.message,args:d,url:g,isOnline:navigator.onLine}),{success:!1,error:e}}))}},9741:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o;const i=new Uint8Array(16);function a(){if(!o&&(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)}const c=[];for(let e=0;e<256;++e)c.push((e+256).toString(16).slice(1));function u(e,t=0){return(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase()}const s=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();const o=(e=e||{}).random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=o[e];return t}return u(o)}},5846:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(6063).Z.Symbol},8607:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(5846),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,c=r.Z?r.Z.toStringTag:void 0;const u=function(e){var t=i.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[c]=n:delete e[c]),o};var s=Object.prototype.toString;const l=function(e){return s.call(e)};var f=r.Z?r.Z.toStringTag:void 0;const p=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":f&&f in Object(e)?u(e):l(e)}},9664:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r="object"==typeof global&&global&&global.Object===Object&&global},6063:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(9664),o="object"==typeof self&&self&&self.Object===Object&&self;const i=r.Z||o||Function("return this")()},7519:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=Array.isArray},532:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},1941:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return null!=e&&"object"==typeof e}},9782:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8607),o=n(7519),i=n(1941);const a=function(e){return"string"==typeof e||!(0,o.Z)(e)&&(0,i.Z)(e)&&"[object String]"==(0,r.Z)(e)}},3901:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(8607),o=n(1941);const i=function(e){return"symbol"==typeof e||(0,o.Z)(e)&&"[object Symbol]"==(0,r.Z)(e)}},4353:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(532),o=n(6063);const i=function(){return o.Z.Date.now()};var a=/\s/;const c=function(e){for(var t=e.length;t--&&a.test(e.charAt(t)););return t};var u=/^\s+/;const s=function(e){return e?e.slice(0,c(e)+1).replace(u,""):e};var l=n(3901),f=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,d=/^0o[0-7]+$/i,h=parseInt;const v=function(e){if("number"==typeof e)return e;if((0,l.Z)(e))return NaN;if((0,r.Z)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,r.Z)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=s(e);var n=p.test(e);return n||d.test(e)?h(e.slice(2),n?2:8):f.test(e)?NaN:+e};var y=Math.max,b=Math.min;const g=function(e,t,n){var o,a,c,u,s,l,f=0,p=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=o,r=a;return o=a=void 0,f=t,u=e.apply(r,n)}function w(e){return f=e,s=setTimeout(_,t),p?g(e):u}function m(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-f>=c}function _(){var e=i();if(m(e))return E(e);s=setTimeout(_,function(e){var n=t-(e-l);return d?b(n,c-(e-f)):n}(e))}function E(e){return s=void 0,h&&o?g(e):(o=a=void 0,u)}function C(){var e=i(),n=m(e);if(o=arguments,a=this,l=e,n){if(void 0===s)return w(l);if(d)return clearTimeout(s),s=setTimeout(_,t),g(l)}return void 0===s&&(s=setTimeout(_,t)),u}return t=v(t)||0,(0,r.Z)(n)&&(p=!!n.leading,c=(d="maxWait"in n)?y(v(n.maxWait)||0,t):c,h="trailing"in n?!!n.trailing:h),C.cancel=function(){void 0!==s&&clearTimeout(s),f=0,o=l=a=s=void 0},C.flush=function(){return void 0===s?u:E(i())},C};const w=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return(0,r.Z)(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),g(e,t,{leading:o,maxWait:t,trailing:i})}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.m=t,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,n)=>(r.f[n](e,t),t),[])),r.u=e=>(({82:"login-restriction",178:"dpop-protect-web",219:"file-policy-workflow",303:"security-info",611:"lmp-sdk-report",750:"dpop-protect-mobile-webview",949:"file-policy-worker"}[e]||e)+".policy-sdk-5.2.6.js"),r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},r.l=(t,n,o,i)=>{if(e[t])e[t].push(n);else{var a,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),s=0;s<u.length;s++){var l=u[s];if(l.getAttribute("src")==t||l.getAttribute("data-webpack")=="__builtin_policy_sdk__:"+o){a=l;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack","__builtin_policy_sdk__:"+o),a.src=t),e[t]=[n];var f=(n,r)=>{a.onerror=a.onload=null,clearTimeout(p);var o=e[t];if(delete e[t],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach(e=>e(r)),n)return n(r)},p=setTimeout(((e,t)=>{if(t&&"timeout"===t.type){if(window.staticCDNErrorHandler&&window.tryToLoadBackupCdn){var n=Date.now();window.logCDNErrorEntries&&window.logCDNErrorEntries(i,"script",{first_fetch_duration:Date.now()-n}),staticCDNErrorHandler(a.src,"script"),tryToLoadBackupCdn(a.src,"script",!0,f)}}else f(e,t)}).bind(null,void 0,{type:"timeout",target:a}),c?12e4:3e4);if(a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),window.staticCDNErrorHandler&&window.tryToLoadBackupCdn){var d=Date.now();a.onerror=function(){window.logCDNErrorEntries&&window.logCDNErrorEntries(i,"script",{first_fetch_duration:Date.now()-d}),staticCDNErrorHandler(a.src,"script"),tryToLoadBackupCdn(a.src,"script",!0,f)}}c&&document.head.appendChild(a)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p=navigator.cdn_host ? navigator.cdn_host+"/lmp/scs/" : document.currentScript.src.substr(0, document.currentScript.src.lastIndexOf('/') + 1),(()=>{var e={179:0};r.f.j=(t,n)=>{var o=r.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var i=new Promise((n,r)=>o=e[t]=[n,r]);n.push(o[2]=i);var a=r.p+r.u(t),c=new Error;r.l(a,n=>{if(r.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",c.name="ChunkLoadError",c.type=i,c.request=a,o[1](c)}},"chunk-"+t,t)}};var t=(t,n)=>{var o,i,a=n[0],c=n[1],u=n[2],s=0;if(a.some(t=>0!==e[t])){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(u)u(r)}for(t&&t(n);s<a.length;s++)i=a[s],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=this.webpackChunk_builtin_policy_sdk_=this.webpackChunk_builtin_policy_sdk_||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o={};(()=>{"use strict";r.r(o),r.d(o,{ActionNameKey:()=>z.Jg,DeterministicDecisionTypeEnum:()=>i.Up,Effect:()=>z.Qm,EntityDomain:()=>se.pW,EntityOperate:()=>z.OW,EntityType:()=>z.py,Environment:()=>i.qA,FileSourceDomain:()=>z.Su,PointKey:()=>ue.MA,PolicyEvent:()=>i.ST,PolicyPlugin:()=>le.W,PolicyType:()=>i.Mi,Region:()=>i.yp,default:()=>me,init:()=>_e,update:()=>Ee});var e=r(8617),t=r(3742),n=r(2463),i=r(2074),a=r(9208),c=r(8584),u=r(3545),s=new(function(){function e(){}return Object.defineProperty(e.prototype,"policyWorker",{get:function(){return this.mPolicyWorker},set:function(e){this.mPolicyWorker=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fileProtectChecker",{get:function(){return this.mFileProtectChecker},set:function(e){this.mFileProtectChecker=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"larkGateway",{get:function(){return this.mLarkGateway},set:function(e){this.mLarkGateway=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"webdidCheck",{get:function(){return this.mWebdidCheck},set:function(e){this.mWebdidCheck=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loginRestriction",{get:function(){return this.mLoginRestriction},set:function(e){this.mLoginRestriction=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dpopProtect",{get:function(){return this.mDpopProtect},set:function(e){this.mDpopProtect=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"report",{get:function(){return this.mReport},set:function(e){this.mReport=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"secSdk",{get:function(){return this.mSecSdk},set:function(e){this.mSecSdk=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"intranet",{get:function(){return this.mIntranet},set:function(e){this.mIntranet=e},enumerable:!1,configurable:!0}),e}());const l=function(){};var f,p,d,h=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},v=function(e){return new Promise((function(t,n){"undefined"==typeof document&&n(new Error("non-browser env"));var r=e.domain,o=e.path,i=e.backupDomains,a=e.retried;try{var c="https://".concat(r).concat(o),u=document.createElement("script");u.onload=function(){return t(!0)},u.onerror=function(){var e={domain:r,path:o};if(a)n(new Error("Resource load failed: ".concat(c)));else{if(Array.isArray(i)&&i.length>0){var u=h(i),s=u[0],l=u.slice(1);e.domain=s,e.backupDomains=l}else a||(e.retried=!0);v(e).then((function(){return t(!0)})).catch((function(e){return n(e)}))}},u.setAttribute("type","text/javascript"),u.setAttribute("src",c),document.head.appendChild(u)}catch(e){n(e)}}))},y=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},b=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},g=function(){return y(void 0,void 0,Promise,(function(){var e,n,r;return b(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t.u.getConfig()];case 1:return e=o.sent(),n=null==e?void 0:e.secSdkWeb,r="https://".concat(null==e?void 0:e.securityApiDomain,"/device/sdk/v5/r"),n&&(i=n.url,new Promise((function(e){if("undefined"!=typeof document)try{var t="https://".concat(i),n=document.createElement("script");n.onload=function(){return e(!0)},n.setAttribute("type","text/javascript"),n.setAttribute("src",t),document.head.appendChild(n)}catch(e){}}))).then((function(){window.__lark_sec_sdk.setEnv(r,n.token)})),[3,3];case 2:return o.sent(),[3,3];case 3:return[2]}var i}))}))},w=function(){return(w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},m=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},_=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},E=r(4622),C=r(2442),O=r(2808),S=function(){return(S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},k=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},I=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},P=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},A=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},T=Math.random().toString().slice(2),R=function(){};if("undefined"!=typeof window&&O.rD!==O.OE.Web){var L,N=function(){var e,t,n,r,o,i,a;try{var c=null!==(t=null===(e=window.LarkWebViewJavaScriptBridge)||void 0===e?void 0:e.nativeCallBack)&&void 0!==t?t:R,u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{if([O.OE.Android,O.OE.iOS].includes(O.rD)){var n=(null==e?void 0:e[0])||{},r=n.callbackID,o=n.data,i=n.callbackType;r===T&&"success"===i&&(d=o),c.apply(void 0,A([],P(e),!1))}if([O.OE.PC].includes(O.rD)){var a=P(e||[],1);o=a[0];d=o}}catch(e){}},s={apiName:"larkPrivateGatewayParams",data:{},callbackID:T};window.LarkWebViewJavaScriptBridge&&(window.LarkWebViewJavaScriptBridge.nativeCallBack=u),O.rD===O.OE.Android&&(null===(n=window.Lark_Bridge)||void 0===n||n.invokeNative(JSON.stringify(s))),O.rD===O.OE.iOS&&(null===(i=null===(o=null===(r=window.webkit)||void 0===r?void 0:r.messageHandlers)||void 0===o?void 0:o.invokeNative)||void 0===i||i.postMessage(S(S({},s),{data:{__v2__:!0}}))),O.rD===O.OE.PC&&(null===(a=window.ttJSBridge)||void 0===a||a.invoke(s.apiName,S(S({},s.data),{success:u})))}catch(e){}};if(!Object.prototype.hasOwnProperty.call(window,"LarkWebViewJavaScriptBridge")&&(null===(f=Object.getOwnPropertyDescriptor(window,"LarkWebViewJavaScriptBridge"))||void 0===f?void 0:f.configurable)&&[O.OE.Android,O.OE.iOS].includes(O.rD))Object.defineProperties(window,{LarkWebViewJavaScriptBridge:{get:function(){return L},set:function(e){var t;L=e,(null==e?void 0:e.nativeCallBack)&&(t=e.nativeCallBack),Object.defineProperties(e,{nativeCallBack:{get:function(){return t},set:function(e){t=e,N()},configurable:!0}})}}});else if(!Object.prototype.hasOwnProperty.call(window,"ttJSBridge")&&(null===(p=Object.getOwnPropertyDescriptor(window,"ttJSBridge"))||void 0===p?void 0:p.configurable)&&[O.OE.PC].includes(O.rD)){var D;Object.defineProperties(window,{ttJSBridge:{get:function(){return D},set:function(e){D=e,N()}}})}else(window.LarkWebViewJavaScriptBridge||window.ttJSBridge)&&N()}var M=function(){return k(void 0,void 0,void 0,(function(){var e,t,n;return I(this,(function(r){switch(r.label){case 0:if(O.rD===O.OE.Web)return[2,{}];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,ShellAPI.app.passport.getAuthInfo()];case 2:return e=r.sent().userId,[3,4];case 3:return r.sent(),[3,4];case 4:try{t=ShellAPI.app.environment.appVersion}catch(e){}return[2,S(S({},d),(n={},n[C.DH]=e||(null==d?void 0:d[C.DH]),n[C.qA]=t||(null==d?void 0:d[C.qA]),n))]}}))}))},x=r(4118),U="undefined"!=typeof window?window.fetch:function(){return Promise.resolve(new Response)},F=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},j=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};function H(){try{return(0,x.ej)(C.cy)||""}catch(e){return""}}function B(e){var n;return F(this,void 0,Promise,(function(){var r,o;return j(this,(function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),r=void 0,e.tokenApiUrl?(r=e.tokenApiUrl,[3,3]):[3,1];case 1:return[4,t.u.getConfig()];case 2:if(!(o=null===(n=i.sent())||void 0===n?void 0:n.csrfApiDomain))return[2,""];r="https://".concat(o,"/lgw/csrf_token"),i.label=3;case 3:return r?[4,U(r,{credentials:"include"})]:[2,""];case 4:return i.sent(),[2,(0,x.ej)(C.cy)];case 5:return i.sent(),[2,""];case 6:return[2]}}))}))}var G,W=(G=function(e,t){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}G(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),q=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},K=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},V=function(e){function n(n){var r=e.call(this)||this;return r.csrfConfig={},r.request=function(e){return q(r,void 0,Promise,(function(){var n,r,o;return K(this,(function(i){switch(i.label){case 0:return n=(null===(o=null===(r=t.u.getConfigSync())||void 0===r?void 0:r.featureSwitch)||void 0===o?void 0:o.os_new)?O.oU:O.H9,[4,this.doNotIntercept(e.url.toString())];case 1:return i.sent()?[2,!0]:(e.setHeader(C._E,encodeURIComponent(O.rD)),e.setHeader(C.eM,encodeURIComponent(n)),t.u.options.appId&&e.setHeader(C.UA,encodeURIComponent(t.u.options.appId)),[4,this.setDynamicParams(e)]);case 2:return i.sent(),[2,!0]}}))}))},"undefined"!=typeof window&&(window.lgw_sdk_hooked=!0),r.csrfConfig=(null==n?void 0:n.csrf)||{},r}return W(n,e),n.prototype.setDynamicParams=function(e){return q(this,void 0,void 0,(function(){var t,n,r,o,i;return K(this,(function(a){switch(a.label){case 0:return[4,M()];case 1:return t=a.sent(),[C.qA,C.Rg,C.o7,C.h7,C.md,C.DH,C.xH].forEach((function(n){(null==t?void 0:t[n])&&e.setHeader(n,encodeURIComponent(t[n]))})),n=new URL(e.url,window.location.origin).searchParams.toString().slice(1),"undefined"!=typeof window&&window.__lark_sec_sdk?(r={query:n,body:e.body},[4,window.__lark_sec_sdk.signRequest(r)]):[3,3];case 2:(o=a.sent())&&e.setHeader(C.T9,o),a.label=3;case 3:return this.csrfConfig.enable?(this.getCsrfTokenPromise||(this.getCsrfTokenPromise=function(e){return F(this,void 0,Promise,(function(){var t;return j(this,(function(n){switch(n.label){case 0:return(t=H())?[3,2]:[4,B(e)];case 1:t=n.sent(),n.label=2;case 2:return[2,t]}}))}))}(this.csrfConfig)),[4,this.getCsrfTokenPromise]):[3,5];case 4:i=a.sent(),this.getCsrfTokenPromise=void 0,e.setHeader(C.sh,i),a.label=5;case 5:return[2]}}))}))},n.prototype.doNotIntercept=function(e){var n;return q(this,void 0,Promise,(function(){var r;return K(this,(function(o){switch(o.label){case 0:return O.H9===O.wh.iOS&&O.Ru&&O.j_&&!/^(https:)?\/\//.test(e)?[2,!0]:[4,t.u.getConfig()];case 1:return(r=o.sent())&&(null===(n=null==r?void 0:r.featureSwitch)||void 0===n?void 0:n.lgw_sdk_web)?[2,!1]:[2,!0]}}))}))},n.key="LarkGatewayInterceptor",n}(E.n),Y={request:r(3198).Z,baseURL:""};Y.genBaseURL=function(e){return"function"==typeof Y.baseURL?Y.baseURL(e):Y.baseURL+e};var J,Z=r(4821);!function(e){e[e.Inactive=1]="Inactive",e[e.Active=2]="Active"}(J||(J={}));var X,z=r(3788),$=r(4353),Q=r(5713),ee=r(2727),te=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ne=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},re=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},oe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},ie=function(e){function n(){var n,r=this;return(r=e.call(this)||this).pollingTokenFailures=0,r.addrCalled=!1,r.request=function(){return re(r,void 0,Promise,(function(){return oe(this,(function(e){switch(e.label){case 0:return[4,this.getTerminalJwt()];case 1:return e.sent()||(0,x.kT)({key:"sec_terminal_token",domain:t.u.options.baseDomain}),[2,!0]}}))}))},r.response=function(e){return re(r,void 0,void 0,(function(){var n,r,o,i,a,c,u,s,l,f,p,d,h;return oe(this,(function(v){switch(v.label){case 0:return(n=e.getHeader(C.pX))&&this.prevIp&&n!==this.prevIp&&!document.hidden&&(this.refreshToken(),this.prevIp=n),!this.prevIp&&n&&(this.prevIp=n),r=e.getHeader(Q.d),o=e.getHeader(C.sb),i=(0,C.JT)(o).actions,a=null===(d=i[0])||void 0===d?void 0:d.name,[z.Jg.Intranet].includes(a)?[4,t.u.getConfig()]:[3,2];case 1:return c=v.sent(),u=null==c?void 0:c.securityWebDomain,s=t.u.options,l=s.language,f=s.passportId,p={appid:f,language:l,redirectUrl:(null===(h=null===window||void 0===window?void 0:window.location)||void 0===h?void 0:h.href)||"",actions:i},(0,ee.Z)({securityWebDomain:u,urlParams:p,lscCode:r,lscDecision:o,appId:f}),[2,!1];case 2:return[2,!0]}}))}))},setInterval((function(){r.getCrossTabTimeIntervalAllowed()&&r.refreshToken()}),3e5),null===(n=window.addEventListener)||void 0===n||n.call(window,"online",(function(){return r.refreshToken()})),r}var r,o;return te(n,e),n.prototype.refreshToken=function(){return re(this,void 0,void 0,(function(){return oe(this,(function(e){switch(e.label){case 0:return[4,this.pollTerminalJwt()];case 1:return e.sent()||((0,x.kT)({key:"sec_terminal_token",domain:t.u.options.baseDomain}),this.pollingTokenFailures=this.pollingTokenFailures+1),this.pollingTokenFailures%3==0&&this.pollingTokenFailures>0?[4,this.getProxyAddr(!1)]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},n.prototype.getCrossTabTimeIntervalAllowed=function(){if("undefined"!=typeof localStorage){var e=Number(null===localStorage||void 0===localStorage?void 0:localStorage.getItem("__TERMINAL_TOKEN_TIME_STORAGE")),t=(new Date).valueOf();if(isNaN(e)||t-e>3e5||t<e)return null===localStorage||void 0===localStorage||localStorage.setItem("__TERMINAL_TOKEN_TIME_STORAGE","".concat(t-1e3)),!0}return!1},n.prototype.getProxyAddr=function(e){return void 0===e&&(e=!0),re(this,void 0,void 0,(function(){var t,n;return oe(this,(function(r){switch(r.label){case 0:if(e){if(this.proxyAddr)return[2,this.proxyAddr];if(t=null===localStorage||void 0===localStorage?void 0:localStorage.getItem("__REVERSE_PROXY_SERVER_ADDR"))return[2,t];if(this.addrCalled)return[2,""]}return[4,this.fetchProxyAddr()];case 1:return n=r.sent(),this.addrCalled=!0,[2,n]}}))}))},n.prototype.fetchProxyAddr=function(){return re(this,void 0,Promise,(function(){var e,t;return oe(this,(function(n){switch(n.label){case 0:return[4,(0,Z.R$)()];case 1:return e=n.sent().data,t=e.address,e.status!==J.Active?[2,""]:(this.proxyAddr=t,null===localStorage||void 0===localStorage||localStorage.setItem("__REVERSE_PROXY_SERVER_ADDR",t),[2,t])}}))}))},n.prototype.pollTerminalJwt=function(){return re(this,void 0,Promise,(function(){var e;return oe(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,this.getProxyAddr()];case 1:return e=t.sent(),[4,this.fetchTerminalJwt(e)];case 2:return[2,t.sent()];case 3:return t.sent(),[2,""];case 4:return[2]}}))}))},n.prototype.getTerminalJwt=function(){return re(this,void 0,Promise,(function(){var e=this;return oe(this,(function(t){if(this.tokenPromise)return[2,this.tokenPromise];try{return this.tokenPromise=this.pollTerminalJwt().catch((function(){return e.tokenPromise=null})),[2,this.tokenPromise]}catch(e){return this.tokenPromise=null,[2,""]}return[2]}))}))},n.prototype.fetchTerminalJwt=function(e){var n;return re(this,void 0,Promise,(function(){var r;return oe(this,(function(o){switch(o.label){case 0:return e?[4,(i={baseURL:"https://".concat(e),timeout:2e3},a=Y.genBaseURL("/lark/security/internal/terminal/intranet/token"),Y.request({url:a,method:"GET"},i))]:[2,""];case 1:return r=o.sent(),(null===(n=r.data)||void 0===n?void 0:n.token)?((0,x.d8)({key:"sec_terminal_token",value:r.data.token,domain:t.u.options.baseDomain,expires:new Date(Date.now()+36e4).toUTCString()}),[2,r.data.token]):[2,""]}var i,a}))}))},n.key="IntranetDetectionInterceptor",ne([(r=1e4,void 0===o&&(o={}),function(e,t,n){return{configurable:!0,enumerable:n.enumerable,get:function(){return Object.defineProperty(this,t,{configurable:!0,enumerable:n.enumerable,value:(0,$.Z)(n.value,r,o)}),this[t]}}})],n.prototype,"refreshToken",null),n}(E.n),ae=r(5982),ce=r(7348),ue=r(6969),se=r(3583),le=r(2106),fe=function(){return(fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},pe=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},de=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},he={getPluginInstByName:function(t){return e.E.getPluginByName(t)},registerPlugin:function(t,n){return e.E.registerPlugin(t,n)}},ve={checkAction:function(e){return pe(this,void 0,Promise,(function(){return de(this,(function(t){switch(t.label){case 0:return[4,we.initFilePolicyOld()];case 1:return t.sent(),[2,(new s.policyWorker).checkAction(e)]}}))}))},checkActionSync:function(e){return we.initFilePolicyOld(),(new s.policyWorker).checkActionSync(e)},preloadDecisions:function(e){return pe(this,void 0,Promise,(function(){return de(this,(function(t){switch(t.label){case 0:return[4,we.initFilePolicyOld()];case 1:return t.sent(),[2,new s.policyWorker("batch").preloadDecisions(e)]}}))}))},isFastPass:function(e){return(new s.policyWorker).isFastPass(e)}},ye={checkAction:function(e){return pe(this,void 0,Promise,(function(){return de(this,(function(t){switch(t.label){case 0:return[4,we.initFilePolicy()];case 1:return t.sent(),[2,(new s.fileProtectChecker).checkAction(e)]}}))}))},checkActionSync:function(e){return we.initFilePolicy(),(new s.fileProtectChecker).checkActionSync(e)},preloadDecisions:function(e){return pe(this,void 0,Promise,(function(){return de(this,(function(t){switch(t.label){case 0:return[4,we.initFilePolicy()];case 1:return t.sent(),[2,(new s.fileProtectChecker).preloadDecisions(e)]}}))}))},isFastPass:function(e){return(new s.fileProtectChecker).isFastPass(e)}},be={getConfig:function(){return pe(void 0,void 0,void 0,(function(){return de(this,(function(e){switch(e.label){case 0:return[4,t.u.getConfig()];case 1:return[2,e.sent()]}}))}))}},ge={onConditionalAccessDenial:function(e){return n.u.on(i.ST.CONDITIONAL_ACCESS,e)},onFilePolicyDenial:function(e){return n.u.on(i.ST.FILE_OPERATION_DENIAL,e)},onPolicyUpdate:function(e){return n.u.on(i.ST.POLICY_UPDATE,e)},onPointcutUpdate:function(e){return n.u.on(i.ST.POINTCUT_UPDATE,e)},onWorkflowLog:function(e){return n.u.on(i.ST.WORKFLOW_LOG,e)},onPreloadDecisionChange:function(e){return n.u.on(i.ST.PRELOAD_DECISION_UPDATE,(function(t){return e(fe(fe({},t),{getTaskIdByInput:function(e){return(0,u.EE)(e)}}))}))}},we=fe(fe({init:function(e){var n=t.u.initOptions(e);return n&&((0,a.pF)(),t.u.queryInfos(),this.initModules(e.modules)),n},initModules:function(e){var n=e||{},r=n.larkGateway,o=n.filePolicy,i=n.webdidCheck,u=n.report,f=n.loginRestriction,p=n.secSdk,d=n.bdmsSdk,h=n.filePolicyOld,y=n.dpopProtect,b=n.intranet;if(y&&this.initDPoPProtect(y),r&&this.initLarkGateway(),o&&this.initFilePolicy(),!o&&h&&this.initFilePolicyOld(),b&&this.initIntranet(),i){if(s.webdidCheck)return;s.webdidCheck=!0,(0,a.m5)(),(0,a.YC)()}if(u){if(s.report)return;s.report=!0,(0,c.Ty)(t.u.options)}if(f){if(s.loginRestriction)return;s.loginRestriction=!0,(0,a.BD)()}if(d){if(s.secSdk)return;s.secSdk=!0,m(void 0,void 0,Promise,(function(){var e,n,r,o,i,a,c,u,s,f,p;return _(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,t.u.getConfig()];case 1:return e=d.sent(),n=null==e?void 0:e.secSdkWeb,r=null==e?void 0:e.bdmsSdkApiDomain,o=null!==(p=null==n?void 0:n.bdmsConf)&&void 0!==p?p:{},i=o.aid,a=o.domain,c=o.path,u=o.backupDomains,s=o.enable,f=o.options,c&&s?v({domain:a,path:c,backupDomains:u}).then((function(){var e=w(w({},f),{aid:null!=i?i:1664,rpU:r?"https://".concat(r):void 0});window.bdms.init(e)})).catch(l):g(),[3,3];case 2:return d.sent(),l(),[3,3];case 3:return[2]}}))}))}if(p){if(s.secSdk)return;s.secSdk=!0,g()}},initFilePolicyOld:function(){var e;return pe(this,void 0,void 0,(function(){var t,o,c;return de(this,(function(u){switch(u.label){case 0:return s.policyWorker?[2]:s.fileProtectChecker?(s.policyWorker=s.fileProtectChecker,[2]):[4,Promise.all([r.e(126),r.e(563),r.e(949)]).then(r.bind(r,1643))];case 1:return t=u.sent().PolicyWorker,[4,Promise.all([r.e(126),r.e(563),r.e(949)]).then(r.bind(r,5644))];case 2:return o=u.sent().FilePolicyInterceptor,s.policyWorker=t,n.u.on(i.GE.NETWORK_ONLINE,(function(){(new t).autoCheckStaticActions("network")})),n.u.on(i.GE.SDK_COLD_BOOST,(function(){ce.j.isFullUpdate=!0,(new t).autoCheckStaticActions("init")})),n.u.on(i.GE.STATIC_POINTCUT_POLLING,(function(){ce.j.isFullUpdate=!0,(new t).autoCheckStaticActions("polling")})),n.u.on(i.GE.BACK_TO_FRONT,(function(){ce.j.isFullUpdate=!0,(new t).autoCheckStaticActions("backToFront")})),n.u.on(i.GE.TENANT_SWITCH,(function(){ce.j.isFullUpdate=!0,(new t).autoCheckStaticActions("tenantSwitch")})),c=new o,null===(e=(0,a.UE)())||void 0===e||e.appendInterceptors([],[c]),[2]}}))}))},initFilePolicy:function(){var e;return pe(this,void 0,void 0,(function(){var t,o,c;return de(this,(function(u){switch(u.label){case 0:return s.fileProtectChecker?[2]:s.policyWorker?(s.fileProtectChecker=s.policyWorker,[2]):[4,Promise.all([r.e(126),r.e(563),r.e(219)]).then(r.bind(r,2974))];case 1:return t=u.sent().FileProtectChecker,[4,Promise.all([r.e(126),r.e(563),r.e(219)]).then(r.bind(r,5644))];case 2:return o=u.sent().FilePolicyInterceptor,s.fileProtectChecker=t,n.u.on(i.GE.NETWORK_ONLINE,(function(){(new t).autoCheckStaticActions("network")})),n.u.on(i.GE.SDK_COLD_BOOST,(function(){ae.j0.isFullUpdate=!0,(new t).autoCheckStaticActions("init")})),n.u.on(i.GE.STATIC_POINTCUT_POLLING,(function(){ae.j0.isFullUpdate=!0,(new t).autoCheckStaticActions("polling")})),n.u.on(i.GE.BACK_TO_FRONT,(function(){ae.j0.isFullUpdate=!0,(new t).autoCheckStaticActions("backToFront")})),n.u.on(i.GE.TENANT_SWITCH,(function(){ae.j0.isFullUpdate=!0,(new t).autoCheckStaticActions("tenantSwitch")})),c=new o,null===(e=(0,a.UE)())||void 0===e||e.appendInterceptors([],[c]),[2]}}))}))},initLarkGateway:function(e){var t;if(!s.larkGateway){s.larkGateway=!0;var n=new V(e);null===(t=(0,a.UE)())||void 0===t||t.appendInterceptors([n])}},initIntranet:function(){var e;if(!s.intranet){s.intranet=!0;var t=new ie;null===(e=(0,a.UE)())||void 0===e||e.appendInterceptors([t],[t])}},initDPoPProtect:function(e){var t,n;return pe(this,void 0,void 0,(function(){var o,i,c;return de(this,(function(u){switch(u.label){case 0:return s.dpopProtect?[2]:"web"!==e?[3,2]:[4,Promise.all([r.e(126),r.e(95),r.e(178)]).then(r.bind(r,3710))];case 1:return o=u.sent().DPoPInterceptorWeb,s.dpopProtect=!0,c=new o,null===(t=(0,a.UE)())||void 0===t||t.appendInterceptors([c],[c]),[3,4];case 2:return"mobileWebview"!==e?[3,4]:[4,Promise.all([r.e(126),r.e(95),r.e(750)]).then(r.bind(r,4562))];case 3:i=u.sent().DPoPInterceptorMobileWebview,s.dpopProtect=!0,c=new i,null===(n=(0,a.UE)())||void 0===n||n.appendInterceptors([c],[c]),u.label=4;case 4:return[2]}}))}))},update:function(n){var r=n.options,o=void 0===r?{}:r;t.u.setOptions(o),e.E.updateProps(n)}},he),{pluginManager:he,fileProtectChecker:ye,policyWorker:ve,events:ge,pap:be});const me=(null===(X=window.__builtin_policy_sdk__)||void 0===X?void 0:X.default)||we;var _e=we.init,Ee=we.update})(),__builtin_policy_sdk__=o})();